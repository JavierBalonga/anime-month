import{c as ne,K as se,_ as M,M as ie,N as $,O as B,P as oe,Q as ae,R as W,S as q,U as ue,V as ce,W as x,Y as le,Z as b,a0 as de,a1 as fe,r as I,q as he,j as A,a as D,J as ve}from"./index-f6e837f7.js";const it=ne("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);var pe=function(r){se(n,r);function n(i,s){var e;return e=r.call(this)||this,e.client=i,e.options=s,e.trackedProps=[],e.selectError=null,e.bindMethods(),e.setOptions(s),e}var t=n.prototype;return t.bindMethods=function(){this.remove=this.remove.bind(this),this.refetch=this.refetch.bind(this)},t.onSubscribe=function(){this.listeners.length===1&&(this.currentQuery.addObserver(this),H(this.currentQuery,this.options)&&this.executeFetch(),this.updateTimers())},t.onUnsubscribe=function(){this.listeners.length||this.destroy()},t.shouldFetchOnReconnect=function(){return U(this.currentQuery,this.options,this.options.refetchOnReconnect)},t.shouldFetchOnWindowFocus=function(){return U(this.currentQuery,this.options,this.options.refetchOnWindowFocus)},t.destroy=function(){this.listeners=[],this.clearTimers(),this.currentQuery.removeObserver(this)},t.setOptions=function(s,e){var u=this.options,o=this.currentQuery;if(this.options=this.client.defaultQueryObserverOptions(s),typeof this.options.enabled<"u"&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=u.queryKey),this.updateQuery();var c=this.hasListeners();c&&z(this.currentQuery,o,this.options,u)&&this.executeFetch(),this.updateResult(e),c&&(this.currentQuery!==o||this.options.enabled!==u.enabled||this.options.staleTime!==u.staleTime)&&this.updateStaleTimeout();var a=this.computeRefetchInterval();c&&(this.currentQuery!==o||this.options.enabled!==u.enabled||a!==this.currentRefetchInterval)&&this.updateRefetchInterval(a)},t.getOptimisticResult=function(s){var e=this.client.defaultQueryObserverOptions(s),u=this.client.getQueryCache().build(this.client,e);return this.createResult(u,e)},t.getCurrentResult=function(){return this.currentResult},t.trackResult=function(s,e){var u=this,o={},c=function(v){u.trackedProps.includes(v)||u.trackedProps.push(v)};return Object.keys(s).forEach(function(a){Object.defineProperty(o,a,{configurable:!1,enumerable:!0,get:function(){return c(a),s[a]}})}),(e.useErrorBoundary||e.suspense)&&c("error"),o},t.getNextResult=function(s){var e=this;return new Promise(function(u,o){var c=e.subscribe(function(a){a.isFetching||(c(),a.isError&&(s!=null&&s.throwOnError)?o(a.error):u(a))})})},t.getCurrentQuery=function(){return this.currentQuery},t.remove=function(){this.client.getQueryCache().remove(this.currentQuery)},t.refetch=function(s){return this.fetch(M({},s,{meta:{refetchPage:s==null?void 0:s.refetchPage}}))},t.fetchOptimistic=function(s){var e=this,u=this.client.defaultQueryObserverOptions(s),o=this.client.getQueryCache().build(this.client,u);return o.fetch().then(function(){return e.createResult(o,u)})},t.fetch=function(s){var e=this;return this.executeFetch(s).then(function(){return e.updateResult(),e.currentResult})},t.executeFetch=function(s){this.updateQuery();var e=this.currentQuery.fetch(this.options,s);return s!=null&&s.throwOnError||(e=e.catch(ie)),e},t.updateStaleTimeout=function(){var s=this;if(this.clearStaleTimeout(),!($||this.currentResult.isStale||!B(this.options.staleTime))){var e=oe(this.currentResult.dataUpdatedAt,this.options.staleTime),u=e+1;this.staleTimeoutId=setTimeout(function(){s.currentResult.isStale||s.updateResult()},u)}},t.computeRefetchInterval=function(){var s;return typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.currentResult.data,this.currentQuery):(s=this.options.refetchInterval)!=null?s:!1},t.updateRefetchInterval=function(s){var e=this;this.clearRefetchInterval(),this.currentRefetchInterval=s,!($||this.options.enabled===!1||!B(this.currentRefetchInterval)||this.currentRefetchInterval===0)&&(this.refetchIntervalId=setInterval(function(){(e.options.refetchIntervalInBackground||ae.isFocused())&&e.executeFetch()},this.currentRefetchInterval))},t.updateTimers=function(){this.updateStaleTimeout(),this.updateRefetchInterval(this.computeRefetchInterval())},t.clearTimers=function(){this.clearStaleTimeout(),this.clearRefetchInterval()},t.clearStaleTimeout=function(){this.staleTimeoutId&&(clearTimeout(this.staleTimeoutId),this.staleTimeoutId=void 0)},t.clearRefetchInterval=function(){this.refetchIntervalId&&(clearInterval(this.refetchIntervalId),this.refetchIntervalId=void 0)},t.createResult=function(s,e){var u=this.currentQuery,o=this.options,c=this.currentResult,a=this.currentResultState,v=this.currentResultOptions,m=s!==u,S=m?s.state:this.currentQueryInitialState,y=m?this.currentResult:this.previousQueryResult,f=s.state,l=f.dataUpdatedAt,h=f.error,R=f.errorUpdatedAt,d=f.isFetching,p=f.status,L=!1,j=!1,g;if(e.optimisticResults){var N=this.hasListeners(),ee=!N&&H(s,e),te=N&&z(s,u,e,o);(ee||te)&&(d=!0,l||(p="loading"))}if(e.keepPreviousData&&!f.dataUpdateCount&&(y!=null&&y.isSuccess)&&p!=="error")g=y.data,l=y.dataUpdatedAt,p=y.status,L=!0;else if(e.select&&typeof f.data<"u")if(c&&f.data===(a==null?void 0:a.data)&&e.select===this.selectFn)g=this.selectResult;else try{this.selectFn=e.select,g=e.select(f.data),e.structuralSharing!==!1&&(g=W(c==null?void 0:c.data,g)),this.selectResult=g,this.selectError=null}catch(w){q().error(w),this.selectError=w}else g=f.data;if(typeof e.placeholderData<"u"&&typeof g>"u"&&(p==="loading"||p==="idle")){var E;if(c!=null&&c.isPlaceholderData&&e.placeholderData===(v==null?void 0:v.placeholderData))E=c.data;else if(E=typeof e.placeholderData=="function"?e.placeholderData():e.placeholderData,e.select&&typeof E<"u")try{E=e.select(E),e.structuralSharing!==!1&&(E=W(c==null?void 0:c.data,E)),this.selectError=null}catch(w){q().error(w),this.selectError=w}typeof E<"u"&&(p="success",g=E,j=!0)}this.selectError&&(h=this.selectError,g=this.selectResult,R=Date.now(),p="error");var re={status:p,isLoading:p==="loading",isSuccess:p==="success",isError:p==="error",isIdle:p==="idle",data:g,dataUpdatedAt:l,error:h,errorUpdatedAt:R,failureCount:f.fetchFailureCount,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>S.dataUpdateCount||f.errorUpdateCount>S.errorUpdateCount,isFetching:d,isRefetching:d&&p!=="loading",isLoadingError:p==="error"&&f.dataUpdatedAt===0,isPlaceholderData:j,isPreviousData:L,isRefetchError:p==="error"&&f.dataUpdatedAt!==0,isStale:P(s,e),refetch:this.refetch,remove:this.remove};return re},t.shouldNotifyListeners=function(s,e){if(!e)return!0;var u=this.options,o=u.notifyOnChangeProps,c=u.notifyOnChangePropsExclusions;if(!o&&!c||o==="tracked"&&!this.trackedProps.length)return!0;var a=o==="tracked"?this.trackedProps:o;return Object.keys(s).some(function(v){var m=v,S=s[m]!==e[m],y=a==null?void 0:a.some(function(l){return l===v}),f=c==null?void 0:c.some(function(l){return l===v});return S&&!f&&(!a||y)})},t.updateResult=function(s){var e=this.currentResult;if(this.currentResult=this.createResult(this.currentQuery,this.options),this.currentResultState=this.currentQuery.state,this.currentResultOptions=this.options,!ue(this.currentResult,e)){var u={cache:!0};(s==null?void 0:s.listeners)!==!1&&this.shouldNotifyListeners(this.currentResult,e)&&(u.listeners=!0),this.notify(M({},u,s))}},t.updateQuery=function(){var s=this.client.getQueryCache().build(this.client,this.options);if(s!==this.currentQuery){var e=this.currentQuery;this.currentQuery=s,this.currentQueryInitialState=s.state,this.previousQueryResult=this.currentResult,this.hasListeners()&&(e==null||e.removeObserver(this),s.addObserver(this))}},t.onQueryUpdate=function(s){var e={};s.type==="success"?e.onSuccess=!0:s.type==="error"&&!ce(s.error)&&(e.onError=!0),this.updateResult(e),this.hasListeners()&&this.updateTimers()},t.notify=function(s){var e=this;x.batch(function(){s.onSuccess?(e.options.onSuccess==null||e.options.onSuccess(e.currentResult.data),e.options.onSettled==null||e.options.onSettled(e.currentResult.data,null)):s.onError&&(e.options.onError==null||e.options.onError(e.currentResult.error),e.options.onSettled==null||e.options.onSettled(void 0,e.currentResult.error)),s.listeners&&e.listeners.forEach(function(u){u(e.currentResult)}),s.cache&&e.client.getQueryCache().notify({query:e.currentQuery,type:"observerResultsUpdated"})})},n}(le);function ye(r,n){return n.enabled!==!1&&!r.state.dataUpdatedAt&&!(r.state.status==="error"&&n.retryOnMount===!1)}function H(r,n){return ye(r,n)||r.state.dataUpdatedAt>0&&U(r,n,n.refetchOnMount)}function U(r,n,t){if(n.enabled!==!1){var i=typeof t=="function"?t(r):t;return i==="always"||i!==!1&&P(r,n)}return!1}function z(r,n,t,i){return t.enabled!==!1&&(r!==n||i.enabled===!1)&&(!t.suspense||r.state.status!=="error")&&P(r,t)}function P(r,n){return r.isStaleByTime(n.staleTime)}function me(){var r=!1;return{clearReset:function(){r=!1},reset:function(){r=!0},isReset:function(){return r}}}var Se=b.createContext(me()),Re=function(){return b.useContext(Se)};function ge(r,n,t){return typeof n=="function"?n.apply(void 0,t):typeof n=="boolean"?n:!!r}function Ee(r,n){var t=b.useRef(!1),i=b.useState(0),s=i[1],e=de(),u=Re(),o=e.defaultQueryObserverOptions(r);o.optimisticResults=!0,o.onError&&(o.onError=x.batchCalls(o.onError)),o.onSuccess&&(o.onSuccess=x.batchCalls(o.onSuccess)),o.onSettled&&(o.onSettled=x.batchCalls(o.onSettled)),o.suspense&&(typeof o.staleTime!="number"&&(o.staleTime=1e3),o.cacheTime===0&&(o.cacheTime=1)),(o.suspense||o.useErrorBoundary)&&(u.isReset()||(o.retryOnMount=!1));var c=b.useState(function(){return new n(e,o)}),a=c[0],v=a.getOptimisticResult(o);if(b.useEffect(function(){t.current=!0,u.clearReset();var m=a.subscribe(x.batchCalls(function(){t.current&&s(function(S){return S+1})}));return a.updateResult(),function(){t.current=!1,m()}},[u,a]),b.useEffect(function(){a.setOptions(o,{listeners:!1})},[o,a]),o.suspense&&v.isLoading)throw a.fetchOptimistic(o).then(function(m){var S=m.data;o.onSuccess==null||o.onSuccess(S),o.onSettled==null||o.onSettled(S,null)}).catch(function(m){u.clearReset(),o.onError==null||o.onError(m),o.onSettled==null||o.onSettled(void 0,m)});if(v.isError&&!u.isReset()&&!v.isFetching&&ge(o.suspense,o.useErrorBoundary,[v.error,a.getCurrentQuery()]))throw v.error;return o.notifyOnChangeProps==="tracked"&&(v=a.trackResult(v,o)),v}function ot(r,n,t){var i=fe(r,n,t);return Ee(i,pe)}const J=r=>{let n;const t=new Set,i=(c,a)=>{const v=typeof c=="function"?c(n):c;if(!Object.is(v,n)){const m=n;n=a??typeof v!="object"?v:Object.assign({},n,v),t.forEach(S=>S(n,m))}},s=()=>n,o={setState:i,getState:s,subscribe:c=>(t.add(c),()=>t.delete(c)),destroy:()=>{t.clear()}};return n=r(i,s,o),o},be=r=>r?J(r):J;var G={exports:{}},Y={},Z={exports:{}},X={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var O=I;function Oe(r,n){return r===n&&(r!==0||1/r===1/n)||r!==r&&n!==n}var Ie=typeof Object.is=="function"?Object.is:Oe,we=O.useState,xe=O.useEffect,Qe=O.useLayoutEffect,Ce=O.useDebugValue;function Te(r,n){var t=n(),i=we({inst:{value:t,getSnapshot:n}}),s=i[0].inst,e=i[1];return Qe(function(){s.value=t,s.getSnapshot=n,T(s)&&e({inst:s})},[r,t,n]),xe(function(){return T(s)&&e({inst:s}),r(function(){T(s)&&e({inst:s})})},[r]),Ce(t),t}function T(r){var n=r.getSnapshot;r=r.value;try{var t=n();return!Ie(r,t)}catch{return!0}}function Fe(r,n){return n()}var Ue=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Fe:Te;X.useSyncExternalStore=O.useSyncExternalStore!==void 0?O.useSyncExternalStore:Ue;Z.exports=X;var Ae=Z.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var C=I,De=Ae;function Pe(r,n){return r===n&&(r!==0||1/r===1/n)||r!==r&&n!==n}var _e=typeof Object.is=="function"?Object.is:Pe,ke=De.useSyncExternalStore,Le=C.useRef,je=C.useEffect,Ne=C.useMemo,Me=C.useDebugValue;Y.useSyncExternalStoreWithSelector=function(r,n,t,i,s){var e=Le(null);if(e.current===null){var u={hasValue:!1,value:null};e.current=u}else u=e.current;e=Ne(function(){function c(y){if(!a){if(a=!0,v=y,y=i(y),s!==void 0&&u.hasValue){var f=u.value;if(s(f,y))return m=f}return m=y}if(f=m,_e(v,y))return f;var l=i(y);return s!==void 0&&s(f,l)?f:(v=y,m=l)}var a=!1,v,m,S=t===void 0?null:t;return[function(){return c(n())},S===null?void 0:function(){return c(S())}]},[n,t,i,s]);var o=ke(r,e[0],e[1]);return je(function(){u.hasValue=!0,u.value=o},[o]),Me(o),o};G.exports=Y;var $e=G.exports;const Be=he($e),{useSyncExternalStoreWithSelector:We}=Be;function qe(r,n=r.getState,t){const i=We(r.subscribe,r.getState,r.getServerState||r.getState,n,t);return I.useDebugValue(i),i}const K=r=>{const n=typeof r=="function"?be(r):r,t=(i,s)=>qe(n,i,s);return Object.assign(t,n),t},He=r=>r?K(r):K;function ze(r,n){let t;try{t=r()}catch{return}return{getItem:s=>{var e;const u=c=>c===null?null:JSON.parse(c,n==null?void 0:n.reviver),o=(e=t.getItem(s))!=null?e:null;return o instanceof Promise?o.then(u):u(o)},setItem:(s,e)=>t.setItem(s,JSON.stringify(e,n==null?void 0:n.replacer)),removeItem:s=>t.removeItem(s)}}const Q=r=>n=>{try{const t=r(n);return t instanceof Promise?t:{then(i){return Q(i)(t)},catch(i){return this}}}catch(t){return{then(i){return this},catch(i){return Q(i)(t)}}}},Je=(r,n)=>(t,i,s)=>{let e={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:h=>h,version:0,merge:(h,R)=>({...R,...h}),...n},u=!1;const o=new Set,c=new Set;let a;try{a=e.getStorage()}catch{}if(!a)return r((...h)=>{console.warn(`[zustand persist middleware] Unable to update item '${e.name}', the given storage is currently unavailable.`),t(...h)},i,s);const v=Q(e.serialize),m=()=>{const h=e.partialize({...i()});let R;const d=v({state:h,version:e.version}).then(p=>a.setItem(e.name,p)).catch(p=>{R=p});if(R)throw R;return d},S=s.setState;s.setState=(h,R)=>{S(h,R),m()};const y=r((...h)=>{t(...h),m()},i,s);let f;const l=()=>{var h;if(!a)return;u=!1,o.forEach(d=>d(i()));const R=((h=e.onRehydrateStorage)==null?void 0:h.call(e,i()))||void 0;return Q(a.getItem.bind(a))(e.name).then(d=>{if(d)return e.deserialize(d)}).then(d=>{if(d)if(typeof d.version=="number"&&d.version!==e.version){if(e.migrate)return e.migrate(d.state,d.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return d.state}).then(d=>{var p;return f=e.merge(d,(p=i())!=null?p:y),t(f,!0),m()}).then(()=>{R==null||R(f,void 0),u=!0,c.forEach(d=>d(f))}).catch(d=>{R==null||R(void 0,d)})};return s.persist={setOptions:h=>{e={...e,...h},h.getStorage&&(a=h.getStorage())},clearStorage:()=>{a==null||a.removeItem(e.name)},getOptions:()=>e,rehydrate:()=>l(),hasHydrated:()=>u,onHydrate:h=>(o.add(h),()=>{o.delete(h)}),onFinishHydration:h=>(c.add(h),()=>{c.delete(h)})},l(),f||y},Ke=(r,n)=>(t,i,s)=>{let e={storage:ze(()=>localStorage),partialize:l=>l,version:0,merge:(l,h)=>({...h,...l}),...n},u=!1;const o=new Set,c=new Set;let a=e.storage;if(!a)return r((...l)=>{console.warn(`[zustand persist middleware] Unable to update item '${e.name}', the given storage is currently unavailable.`),t(...l)},i,s);const v=()=>{const l=e.partialize({...i()});return a.setItem(e.name,{state:l,version:e.version})},m=s.setState;s.setState=(l,h)=>{m(l,h),v()};const S=r((...l)=>{t(...l),v()},i,s);let y;const f=()=>{var l,h;if(!a)return;u=!1,o.forEach(d=>{var p;return d((p=i())!=null?p:S)});const R=((h=e.onRehydrateStorage)==null?void 0:h.call(e,(l=i())!=null?l:S))||void 0;return Q(a.getItem.bind(a))(e.name).then(d=>{if(d)if(typeof d.version=="number"&&d.version!==e.version){if(e.migrate)return e.migrate(d.state,d.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return d.state}).then(d=>{var p;return y=e.merge(d,(p=i())!=null?p:S),t(y,!0),v()}).then(()=>{R==null||R(y,void 0),y=i(),u=!0,c.forEach(d=>d(y))}).catch(d=>{R==null||R(void 0,d)})};return s.persist={setOptions:l=>{e={...e,...l},l.storage&&(a=l.storage)},clearStorage:()=>{a==null||a.removeItem(e.name)},getOptions:()=>e,rehydrate:()=>f(),hasHydrated:()=>u,onHydrate:l=>(o.add(l),()=>{o.delete(l)}),onFinishHydration:l=>(c.add(l),()=>{c.delete(l)})},e.skipHydration||f(),y||S},Ve=(r,n)=>"getStorage"in n||"serialize"in n||"deserialize"in n?Je(r,n):Ke(r,n),Ge=Ve,Ye=He(Ge(r=>({favorites:[],addFavorite:n=>{r(t=>({favorites:t.favorites.concat(n)}))},removeFavorite:n=>{r(t=>({favorites:t.favorites.filter(i=>i!==n)}))},setFavorites:n=>{r(()=>({favorites:n}))}}),{name:"anime-favorites",version:1})),at=Ye,_="https://api.jikan.moe";function ut(){const r=new URL("/v4/genres/anime",_);return k(r)}function ct(r){const n=new URL("/v4/anime",_);for(const t in r){const i=r[t];i&&n.searchParams.set(t,String(i))}return k(n)}function lt({id:r}){const n=new URL(`/v4/anime/${r}`,_);return k(n)}const Ze=1e3;let V=0,F=Promise.resolve();function k(r){return F=F.then(()=>{const n=Date.now(),t=V+Ze;if(n<t)return new Promise(i=>{setTimeout(i,t-n)})}).then(()=>{const n=Date.now();return fetch(r).then(t=>{const i=Date.now();if(i-n<20||(V=i),t.status>=400)throw new Error(t.statusText);return t.json()}).then(t=>{if(Xe(t))throw new Error(t.error);return t})}),F}function Xe(r){return typeof r=="object"&&typeof r.status=="number"&&typeof r.type=="string"&&typeof r.error=="string"&&typeof r.messages=="object"}const et=ve("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),tt=I.forwardRef(({className:r,variant:n,...t},i)=>A.jsx("div",{ref:i,role:"alert",className:D(et({variant:n}),r),...t}));tt.displayName="Alert";const rt=I.forwardRef(({className:r,...n},t)=>A.jsx("h5",{ref:t,className:D("mb-1 font-medium leading-none tracking-tight",r),...n}));rt.displayName="AlertTitle";const nt=I.forwardRef(({className:r,...n},t)=>A.jsx("div",{ref:t,className:D("text-sm [&_p]:leading-relaxed",r),...n}));nt.displayName="AlertDescription";export{tt as A,ot as a,it as b,rt as c,nt as d,ct as e,lt as f,ut as g,at as u};
