import{c as Fe,r,$ as Sn,a as U,_ as P,j as E,B as qe,b as B,T as qr,d as Zr,e as Qr,f as Rt,g as G,h as Ze,i as Le,k as De,l as j,m as Vt,n as Jr,o as Qe,p as eo,q as Je,s as Pn,t as _t,u as Rn,v as et,w as _n,x as oe,y as Ie,z as to,A as no}from"./index-07dc3d49.js";import{u as ft,a as Nn,g as ro,A as oo,b as ao,c as co,d as so,e as lo}from"./alert-4d56a018.js";const On=Fe("Check",[["polyline",{points:"20 6 9 17 4 12",key:"10jjfj"}]]),Tn=Fe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),io=Fe("ChevronsUpDown",[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]]),uo=Fe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),fo=Fe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Bt=r.forwardRef((e,t)=>{var n;const{container:o=globalThis==null||(n=globalThis.document)===null||n===void 0?void 0:n.body,...a}=e;return o?Sn.createPortal(r.createElement(U.div,P({},a,{ref:t})),o):null}),po=e=>E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"h-6 w-6",...e,children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.48 3.499a.562.562 0 011.04 0l2.125 5.111a.563.563 0 00.475.345l5.518.442c.499.04.701.663.321.988l-4.204 3.602a.563.563 0 00-.182.557l1.285 5.385a.562.562 0 01-.84.61l-4.725-2.885a.563.563 0 00-.586 0L6.982 20.54a.562.562 0 01-.84-.61l1.285-5.386a.562.562 0 00-.182-.557l-4.204-3.602a.563.563 0 01.321-.988l5.518-.442a.563.563 0 00.475-.345L11.48 3.5z"})}),mo=po;function Qt({loading:e,anime:t}){const n=ft(s=>s.favorites),o=ft(s=>s.addFavorite),a=ft(s=>s.removeFavorite),c=r.useMemo(()=>!t||!t.mal_id?!1:n.includes(t.mal_id),[n,t]),l=()=>{!t||!t.mal_id||(c?a(t.mal_id):o(t.mal_id))};return E.jsxs("div",{className:"relative flex flex-col gap-2",children:[E.jsx(qe,{size:"icon",className:"absolute right-2 top-2 z-10 rounded-full text-yellow-500 hover:bg-neutral-100/10 hover:text-yellow-300",variant:"ghost",onClick:l,children:E.jsx(mo,{fill:c?"currentColor":"none"})}),e||!t?E.jsx("div",{className:"aspect-[3/4] w-full animate-pulse rounded-sm bg-neutral-500 dark:bg-neutral-300"}):E.jsx("img",{src:t.images.jpg.image_url,alt:t.title,width:500,height:670,className:B("aspect-[3/4] w-full rounded-sm object-cover outline outline-transparent brightness-75 transition-all",c&&"outline-yellow-300")}),e||!t?E.jsx("div",{className:"h-4 w-full animate-pulse rounded-sm bg-neutral-500 dark:bg-neutral-300"}):E.jsxs(qr,{children:[E.jsx(Zr,{asChild:!0,children:E.jsx("h4",{className:"line-clamp-2 text-center text-lg font-medium tracking-tight",children:t.title})}),E.jsx(Qr,{children:E.jsx("p",{children:t.title})})]})]})}const pt="focusScope.autoFocusOnMount",mt="focusScope.autoFocusOnUnmount",Jt={bubbles:!1,cancelable:!0},Wt=r.forwardRef((e,t)=>{const{loop:n=!1,trapped:o=!1,onMountAutoFocus:a,onUnmountAutoFocus:c,...l}=e,[s,d]=r.useState(null),u=Rt(a),m=Rt(c),f=r.useRef(null),b=G(t,i=>d(i)),$=r.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;r.useEffect(()=>{if(o){let i=function(y){if($.paused||!s)return;const C=y.target;s.contains(C)?f.current=C:ie(f.current,{select:!0})},v=function(y){if($.paused||!s)return;const C=y.relatedTarget;C!==null&&(s.contains(C)||ie(f.current,{select:!0}))},p=function(y){if(document.activeElement===document.body)for(const w of y)w.removedNodes.length>0&&ie(s)};document.addEventListener("focusin",i),document.addEventListener("focusout",v);const g=new MutationObserver(p);return s&&g.observe(s,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",i),document.removeEventListener("focusout",v),g.disconnect()}}},[o,s,$.paused]),r.useEffect(()=>{if(s){tn.add($);const i=document.activeElement;if(!s.contains(i)){const p=new CustomEvent(pt,Jt);s.addEventListener(pt,u),s.dispatchEvent(p),p.defaultPrevented||(vo(Eo(Dn(s)),{select:!0}),document.activeElement===i&&ie(s))}return()=>{s.removeEventListener(pt,u),setTimeout(()=>{const p=new CustomEvent(mt,Jt);s.addEventListener(mt,m),s.dispatchEvent(p),p.defaultPrevented||ie(i??document.body,{select:!0}),s.removeEventListener(mt,m),tn.remove($)},0)}}},[s,u,m,$]);const h=r.useCallback(i=>{if(!n&&!o||$.paused)return;const v=i.key==="Tab"&&!i.altKey&&!i.ctrlKey&&!i.metaKey,p=document.activeElement;if(v&&p){const g=i.currentTarget,[y,C]=ho(g);y&&C?!i.shiftKey&&p===C?(i.preventDefault(),n&&ie(y,{select:!0})):i.shiftKey&&p===y&&(i.preventDefault(),n&&ie(C,{select:!0})):p===g&&i.preventDefault()}},[n,o,$.paused]);return r.createElement(U.div,P({tabIndex:-1},l,{ref:b,onKeyDown:h}))});function vo(e,{select:t=!1}={}){const n=document.activeElement;for(const o of e)if(ie(o,{select:t}),document.activeElement!==n)return}function ho(e){const t=Dn(e),n=en(t,e),o=en(t.reverse(),e);return[n,o]}function Dn(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:o=>{const a=o.tagName==="INPUT"&&o.type==="hidden";return o.disabled||o.hidden||a?NodeFilter.FILTER_SKIP:o.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function en(e,t){for(const n of e)if(!go(n,{upTo:t}))return n}function go(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function $o(e){return e instanceof HTMLInputElement&&"select"in e}function ie(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&$o(e)&&t&&e.select()}}const tn=bo();function bo(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=nn(e,t),e.unshift(t)},remove(t){var n;e=nn(e,t),(n=e[0])===null||n===void 0||n.resume()}}}function nn(e,t){const n=[...e],o=n.indexOf(t);return o!==-1&&n.splice(o,1),n}function Eo(e){return e.filter(t=>t.tagName!=="A")}let vt=0;function Ut(){r.useEffect(()=>{var e,t;const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(e=n[0])!==null&&e!==void 0?e:rn()),document.body.insertAdjacentElement("beforeend",(t=n[1])!==null&&t!==void 0?t:rn()),vt++,()=>{vt===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(o=>o.remove()),vt--}},[])}function rn(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",e}var H=function(){return H=Object.assign||function(t){for(var n,o=1,a=arguments.length;o<a;o++){n=arguments[o];for(var c in n)Object.prototype.hasOwnProperty.call(n,c)&&(t[c]=n[c])}return t},H.apply(this,arguments)};function Kt(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,o=Object.getOwnPropertySymbols(e);a<o.length;a++)t.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(e,o[a])&&(n[o[a]]=e[o[a]]);return n}function In(e,t,n){if(n||arguments.length===2)for(var o=0,a=t.length,c;o<a;o++)(c||!(o in t))&&(c||(c=Array.prototype.slice.call(t,0,o)),c[o]=t[o]);return e.concat(c||Array.prototype.slice.call(t))}var Oe="right-scroll-bar-position",Te="width-before-scroll-bar",xo="with-scroll-bars-hidden",yo="--removed-body-scroll-bar-size";function Co(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function wo(e,t){var n=r.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(o){var a=n.value;a!==o&&(n.value=o,n.callback(o,a))}}}})[0];return n.callback=t,n.facade}function An(e,t){return wo(t||null,function(n){return e.forEach(function(o){return Co(o,n)})})}function So(e){return e}function Po(e,t){t===void 0&&(t=So);var n=[],o=!1,a={read:function(){if(o)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(c){var l=t(c,o);return n.push(l),function(){n=n.filter(function(s){return s!==l})}},assignSyncMedium:function(c){for(o=!0;n.length;){var l=n;n=[],l.forEach(c)}n={push:function(s){return c(s)},filter:function(){return n}}},assignMedium:function(c){o=!0;var l=[];if(n.length){var s=n;n=[],s.forEach(c),l=n}var d=function(){var m=l;l=[],m.forEach(c)},u=function(){return Promise.resolve().then(d)};u(),n={push:function(m){l.push(m),u()},filter:function(m){return l=l.filter(m),n}}}};return a}function kn(e){e===void 0&&(e={});var t=Po(null);return t.options=H({async:!0,ssr:!1},e),t}var Mn=function(e){var t=e.sideCar,n=Kt(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var o=t.read();if(!o)throw new Error("Sidecar medium not found");return r.createElement(o,H({},n))};Mn.isSideCarExport=!0;function Fn(e,t){return e.useMedium(t),Mn}var Ln=kn(),ht=function(){},tt=r.forwardRef(function(e,t){var n=r.useRef(null),o=r.useState({onScrollCapture:ht,onWheelCapture:ht,onTouchMoveCapture:ht}),a=o[0],c=o[1],l=e.forwardProps,s=e.children,d=e.className,u=e.removeScrollBar,m=e.enabled,f=e.shards,b=e.sideCar,$=e.noIsolation,h=e.inert,i=e.allowPinchZoom,v=e.as,p=v===void 0?"div":v,g=Kt(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as"]),y=b,C=An([n,t]),w=H(H({},g),a);return r.createElement(r.Fragment,null,m&&r.createElement(y,{sideCar:Ln,removeScrollBar:u,shards:f,noIsolation:$,inert:h,setCallbacks:c,allowPinchZoom:!!i,lockRef:n}),l?r.cloneElement(r.Children.only(s),H(H({},w),{ref:C})):r.createElement(p,H({},w,{className:d,ref:C}),s))});tt.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};tt.classNames={fullWidth:Te,zeroRight:Oe};var on,Ro=function(){if(on)return on;if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function _o(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=Ro();return t&&e.setAttribute("nonce",t),e}function No(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function Oo(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var To=function(){var e=0,t=null;return{add:function(n){e==0&&(t=_o())&&(No(t,n),Oo(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},Do=function(){var e=To();return function(t,n){r.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},Ht=function(){var e=Do(),t=function(n){var o=n.styles,a=n.dynamic;return e(o,a),null};return t},Io={left:0,top:0,right:0,gap:0},gt=function(e){return parseInt(e||"",10)||0},Ao=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],o=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[gt(n),gt(o),gt(a)]},ko=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return Io;var t=Ao(e),n=document.documentElement.clientWidth,o=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,o-n+t[2]-t[0])}},Mo=Ht(),Fo=function(e,t,n,o){var a=e.left,c=e.top,l=e.right,s=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(xo,` {
   overflow: hidden `).concat(o,`;
   padding-right: `).concat(s,"px ").concat(o,`;
  }
  body {
    overflow: hidden `).concat(o,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(o,";"),n==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(c,`px;
    padding-right: `).concat(l,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(s,"px ").concat(o,`;
    `),n==="padding"&&"padding-right: ".concat(s,"px ").concat(o,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Oe,` {
    right: `).concat(s,"px ").concat(o,`;
  }
  
  .`).concat(Te,` {
    margin-right: `).concat(s,"px ").concat(o,`;
  }
  
  .`).concat(Oe," .").concat(Oe,` {
    right: 0 `).concat(o,`;
  }
  
  .`).concat(Te," .").concat(Te,` {
    margin-right: 0 `).concat(o,`;
  }
  
  body {
    `).concat(yo,": ").concat(s,`px;
  }
`)},jn=function(e){var t=e.noRelative,n=e.noImportant,o=e.gapMode,a=o===void 0?"margin":o,c=r.useMemo(function(){return ko(a)},[a]);return r.createElement(Mo,{styles:Fo(c,!t,a,n?"":"!important")})},Nt=!1;if(typeof window<"u")try{var We=Object.defineProperty({},"passive",{get:function(){return Nt=!0,!0}});window.addEventListener("test",We,We),window.removeEventListener("test",We,We)}catch{Nt=!1}var he=Nt?{passive:!1}:!1,Lo=function(e){return e.tagName==="TEXTAREA"},Vn=function(e,t){var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!Lo(e)&&n[t]==="visible")},jo=function(e){return Vn(e,"overflowY")},Vo=function(e){return Vn(e,"overflowX")},an=function(e,t){var n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var o=Bn(e,n);if(o){var a=Wn(e,n),c=a[1],l=a[2];if(c>l)return!0}n=n.parentNode}while(n&&n!==document.body);return!1},Bo=function(e){var t=e.scrollTop,n=e.scrollHeight,o=e.clientHeight;return[t,n,o]},Wo=function(e){var t=e.scrollLeft,n=e.scrollWidth,o=e.clientWidth;return[t,n,o]},Bn=function(e,t){return e==="v"?jo(t):Vo(t)},Wn=function(e,t){return e==="v"?Bo(t):Wo(t)},Uo=function(e,t){return e==="h"&&t==="rtl"?-1:1},Ko=function(e,t,n,o,a){var c=Uo(e,window.getComputedStyle(t).direction),l=c*o,s=n.target,d=t.contains(s),u=!1,m=l>0,f=0,b=0;do{var $=Wn(e,s),h=$[0],i=$[1],v=$[2],p=i-v-c*h;(h||p)&&Bn(e,s)&&(f+=p,b+=h),s=s.parentNode}while(!d&&s!==document.body||d&&(t.contains(s)||t===s));return(m&&(a&&f===0||!a&&l>f)||!m&&(a&&b===0||!a&&-l>b))&&(u=!0),u},Ue=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},cn=function(e){return[e.deltaX,e.deltaY]},sn=function(e){return e&&"current"in e?e.current:e},Ho=function(e,t){return e[0]===t[0]&&e[1]===t[1]},Go=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},zo=0,ge=[];function Yo(e){var t=r.useRef([]),n=r.useRef([0,0]),o=r.useRef(),a=r.useState(zo++)[0],c=r.useState(function(){return Ht()})[0],l=r.useRef(e);r.useEffect(function(){l.current=e},[e]),r.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var i=In([e.lockRef.current],(e.shards||[]).map(sn),!0).filter(Boolean);return i.forEach(function(v){return v.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),i.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var s=r.useCallback(function(i,v){if("touches"in i&&i.touches.length===2)return!l.current.allowPinchZoom;var p=Ue(i),g=n.current,y="deltaX"in i?i.deltaX:g[0]-p[0],C="deltaY"in i?i.deltaY:g[1]-p[1],w,N=i.target,O=Math.abs(y)>Math.abs(C)?"h":"v";if("touches"in i&&O==="h"&&N.type==="range")return!1;var D=an(O,N);if(!D)return!0;if(D?w=O:(w=O==="v"?"h":"v",D=an(O,N)),!D)return!1;if(!o.current&&"changedTouches"in i&&(y||C)&&(o.current=w),!w)return!0;var L=o.current||w;return Ko(L,v,i,L==="h"?y:C,!0)},[]),d=r.useCallback(function(i){var v=i;if(!(!ge.length||ge[ge.length-1]!==c)){var p="deltaY"in v?cn(v):Ue(v),g=t.current.filter(function(w){return w.name===v.type&&w.target===v.target&&Ho(w.delta,p)})[0];if(g&&g.should){v.cancelable&&v.preventDefault();return}if(!g){var y=(l.current.shards||[]).map(sn).filter(Boolean).filter(function(w){return w.contains(v.target)}),C=y.length>0?s(v,y[0]):!l.current.noIsolation;C&&v.cancelable&&v.preventDefault()}}},[]),u=r.useCallback(function(i,v,p,g){var y={name:i,delta:v,target:p,should:g};t.current.push(y),setTimeout(function(){t.current=t.current.filter(function(C){return C!==y})},1)},[]),m=r.useCallback(function(i){n.current=Ue(i),o.current=void 0},[]),f=r.useCallback(function(i){u(i.type,cn(i),i.target,s(i,e.lockRef.current))},[]),b=r.useCallback(function(i){u(i.type,Ue(i),i.target,s(i,e.lockRef.current))},[]);r.useEffect(function(){return ge.push(c),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:b}),document.addEventListener("wheel",d,he),document.addEventListener("touchmove",d,he),document.addEventListener("touchstart",m,he),function(){ge=ge.filter(function(i){return i!==c}),document.removeEventListener("wheel",d,he),document.removeEventListener("touchmove",d,he),document.removeEventListener("touchstart",m,he)}},[]);var $=e.removeScrollBar,h=e.inert;return r.createElement(r.Fragment,null,h?r.createElement(c,{styles:Go(a)}):null,$?r.createElement(jn,{gapMode:"margin"}):null)}const Xo=Fn(Ln,Yo);var Un=r.forwardRef(function(e,t){return r.createElement(tt,H({},e,{ref:t,sideCar:Xo}))});Un.classNames=tt.classNames;const Gt=Un;var qo=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},$e=new WeakMap,Ke=new WeakMap,He={},$t=0,Kn=function(e){return e&&(e.host||Kn(e.parentNode))},Zo=function(e,t){return t.map(function(n){if(e.contains(n))return n;var o=Kn(n);return o&&e.contains(o)?o:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},Qo=function(e,t,n,o){var a=Zo(t,Array.isArray(e)?e:[e]);He[n]||(He[n]=new WeakMap);var c=He[n],l=[],s=new Set,d=new Set(a),u=function(f){!f||s.has(f)||(s.add(f),u(f.parentNode))};a.forEach(u);var m=function(f){!f||d.has(f)||Array.prototype.forEach.call(f.children,function(b){if(s.has(b))m(b);else{var $=b.getAttribute(o),h=$!==null&&$!=="false",i=($e.get(b)||0)+1,v=(c.get(b)||0)+1;$e.set(b,i),c.set(b,v),l.push(b),i===1&&h&&Ke.set(b,!0),v===1&&b.setAttribute(n,"true"),h||b.setAttribute(o,"true")}})};return m(t),s.clear(),$t++,function(){l.forEach(function(f){var b=$e.get(f)-1,$=c.get(f)-1;$e.set(f,b),c.set(f,$),b||(Ke.has(f)||f.removeAttribute(o),Ke.delete(f)),$||f.removeAttribute(n)}),$t--,$t||($e=new WeakMap,$e=new WeakMap,Ke=new WeakMap,He={})}},nt=function(e,t,n){n===void 0&&(n="data-aria-hidden");var o=Array.from(Array.isArray(e)?e:[e]),a=t||qo(e);return a?(o.push.apply(o,Array.from(a.querySelectorAll("[aria-live]"))),Qo(o,a,n,"aria-hidden")):function(){return null}};const Hn="Dialog",[Gn,al]=Ze(Hn),[cl,ae]=Gn(Hn),zn="DialogPortal",[Jo,Yn]=Gn(zn,{forceMount:void 0}),ea=e=>{const{__scopeDialog:t,forceMount:n,children:o,container:a}=e,c=ae(zn,t);return r.createElement(Jo,{scope:t,forceMount:n},r.Children.map(o,l=>r.createElement(Le,{present:n||c.open},r.createElement(Bt,{asChild:!0,container:a},l))))},Ot="DialogOverlay",ta=r.forwardRef((e,t)=>{const n=Yn(Ot,e.__scopeDialog),{forceMount:o=n.forceMount,...a}=e,c=ae(Ot,e.__scopeDialog);return c.modal?r.createElement(Le,{present:o||c.open},r.createElement(na,P({},a,{ref:t}))):null}),na=r.forwardRef((e,t)=>{const{__scopeDialog:n,...o}=e,a=ae(Ot,n);return r.createElement(Gt,{as:De,allowPinchZoom:!0,shards:[a.contentRef]},r.createElement(U.div,P({"data-state":qn(a.open)},o,{ref:t,style:{pointerEvents:"auto",...o.style}})))}),Ae="DialogContent",ra=r.forwardRef((e,t)=>{const n=Yn(Ae,e.__scopeDialog),{forceMount:o=n.forceMount,...a}=e,c=ae(Ae,e.__scopeDialog);return r.createElement(Le,{present:o||c.open},c.modal?r.createElement(oa,P({},a,{ref:t})):r.createElement(aa,P({},a,{ref:t})))}),oa=r.forwardRef((e,t)=>{const n=ae(Ae,e.__scopeDialog),o=r.useRef(null),a=G(t,n.contentRef,o);return r.useEffect(()=>{const c=o.current;if(c)return nt(c)},[]),r.createElement(Xn,P({},e,{ref:a,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:j(e.onCloseAutoFocus,c=>{var l;c.preventDefault(),(l=n.triggerRef.current)===null||l===void 0||l.focus()}),onPointerDownOutside:j(e.onPointerDownOutside,c=>{const l=c.detail.originalEvent,s=l.button===0&&l.ctrlKey===!0;(l.button===2||s)&&c.preventDefault()}),onFocusOutside:j(e.onFocusOutside,c=>c.preventDefault())}))}),aa=r.forwardRef((e,t)=>{const n=ae(Ae,e.__scopeDialog),o=r.useRef(!1),a=r.useRef(!1);return r.createElement(Xn,P({},e,{ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:c=>{var l;if((l=e.onCloseAutoFocus)===null||l===void 0||l.call(e,c),!c.defaultPrevented){var s;o.current||(s=n.triggerRef.current)===null||s===void 0||s.focus(),c.preventDefault()}o.current=!1,a.current=!1},onInteractOutside:c=>{var l,s;(l=e.onInteractOutside)===null||l===void 0||l.call(e,c),c.defaultPrevented||(o.current=!0,c.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const d=c.target;((s=n.triggerRef.current)===null||s===void 0?void 0:s.contains(d))&&c.preventDefault(),c.detail.originalEvent.type==="focusin"&&a.current&&c.preventDefault()}}))}),Xn=r.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:o,onOpenAutoFocus:a,onCloseAutoFocus:c,...l}=e,s=ae(Ae,n),d=r.useRef(null),u=G(t,d);return Ut(),r.createElement(r.Fragment,null,r.createElement(Wt,{asChild:!0,loop:!0,trapped:o,onMountAutoFocus:a,onUnmountAutoFocus:c},r.createElement(Vt,P({role:"dialog",id:s.contentId,"aria-describedby":s.descriptionId,"aria-labelledby":s.titleId,"data-state":qn(s.open)},l,{ref:u,onDismiss:()=>s.onOpenChange(!1)}))),!1)}),ca="DialogTitle",sa=r.forwardRef((e,t)=>{const{__scopeDialog:n,...o}=e,a=ae(ca,n);return r.createElement(U.h2,P({id:a.titleId},o,{ref:t}))}),la="DialogDescription",ia=r.forwardRef((e,t)=>{const{__scopeDialog:n,...o}=e,a=ae(la,n);return r.createElement(U.p,P({id:a.descriptionId},o,{ref:t}))}),ua="DialogClose",da=r.forwardRef((e,t)=>{const{__scopeDialog:n,...o}=e,a=ae(ua,n);return r.createElement(U.button,P({type:"button"},o,{ref:t,onClick:j(e.onClick,()=>a.onOpenChange(!1))}))});function qn(e){return e?"open":"closed"}const fa=ea,Zn=ta,Qn=ra,Jn=sa,er=ia,pa=da,ma=fa,tr=r.forwardRef(({className:e,...t},n)=>E.jsx(Zn,{ref:n,className:B("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));tr.displayName=Zn.displayName;const va=r.forwardRef(({className:e,children:t,...n},o)=>E.jsxs(ma,{children:[E.jsx(tr,{}),E.jsxs(Qn,{ref:o,className:B("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg md:w-full",e),...n,children:[t,E.jsxs(pa,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[E.jsx(fo,{className:"h-4 w-4"}),E.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));va.displayName=Qn.displayName;const ha=r.forwardRef(({className:e,...t},n)=>E.jsx(Jn,{ref:n,className:B("text-lg font-semibold leading-none tracking-tight",e),...t}));ha.displayName=Jn.displayName;const ga=r.forwardRef(({className:e,...t},n)=>E.jsx(er,{ref:n,className:B("text-sm text-muted-foreground",e),...t}));ga.displayName=er.displayName;function Ce(e,t,{checkForDefaultPrevented:n=!0}={}){return function(a){if(e==null||e(a),n===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function $a(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function nr(...e){return t=>e.forEach(n=>$a(n,t))}function je(...e){return r.useCallback(nr(...e),e)}function ba(e,t=[]){let n=[];function o(c,l){const s=r.createContext(l),d=n.length;n=[...n,l];function u(f){const{scope:b,children:$,...h}=f,i=(b==null?void 0:b[e][d])||s,v=r.useMemo(()=>h,Object.values(h));return r.createElement(i.Provider,{value:v},$)}function m(f,b){const $=(b==null?void 0:b[e][d])||s,h=r.useContext($);if(h)return h;if(l!==void 0)return l;throw new Error(`\`${f}\` must be used within \`${c}\``)}return u.displayName=c+"Provider",[u,m]}const a=()=>{const c=n.map(l=>r.createContext(l));return function(s){const d=(s==null?void 0:s[e])||c;return r.useMemo(()=>({[`__scope${e}`]:{...s,[e]:d}}),[s,d])}};return a.scopeName=e,[o,Ea(a,...t)]}function Ea(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const o=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(c){const l=o.reduce((s,{useScope:d,scopeName:u})=>{const f=d(c)[`__scope${u}`];return{...s,...f}},{});return r.useMemo(()=>({[`__scope${t.scopeName}`]:l}),[l])}};return n.scopeName=t.scopeName,n}const Tt=globalThis!=null&&globalThis.document?r.useLayoutEffect:()=>{},xa=Jr["useId".toString()]||(()=>{});let ya=0;function bt(e){const[t,n]=r.useState(xa());return Tt(()=>{e||n(o=>o??String(ya++))},[e]),e||(t?`radix-${t}`:"")}function pe(e){const t=r.useRef(e);return r.useEffect(()=>{t.current=e}),r.useMemo(()=>(...n)=>{var o;return(o=t.current)===null||o===void 0?void 0:o.call(t,...n)},[])}function Ca({prop:e,defaultProp:t,onChange:n=()=>{}}){const[o,a]=wa({defaultProp:t,onChange:n}),c=e!==void 0,l=c?e:o,s=pe(n),d=r.useCallback(u=>{if(c){const f=typeof u=="function"?u(e):u;f!==e&&s(f)}else a(u)},[c,e,a,s]);return[l,d]}function wa({defaultProp:e,onChange:t}){const n=r.useState(e),[o]=n,a=r.useRef(o),c=pe(t);return r.useEffect(()=>{a.current!==o&&(c(o),a.current=o)},[o,a,c]),n}const zt=r.forwardRef((e,t)=>{const{children:n,...o}=e,a=r.Children.toArray(n),c=a.find(Pa);if(c){const l=c.props.children,s=a.map(d=>d===c?r.Children.count(l)>1?r.Children.only(null):r.isValidElement(l)?l.props.children:null:d);return r.createElement(Dt,P({},o,{ref:t}),r.isValidElement(l)?r.cloneElement(l,void 0,s):null)}return r.createElement(Dt,P({},o,{ref:t}),n)});zt.displayName="Slot";const Dt=r.forwardRef((e,t)=>{const{children:n,...o}=e;return r.isValidElement(n)?r.cloneElement(n,{...Ra(o,n.props),ref:nr(t,n.ref)}):r.Children.count(n)>1?r.Children.only(null):null});Dt.displayName="SlotClone";const Sa=({children:e})=>r.createElement(r.Fragment,null,e);function Pa(e){return r.isValidElement(e)&&e.type===Sa}function Ra(e,t){const n={...t};for(const o in t){const a=e[o],c=t[o];/^on[A-Z]/.test(o)?n[o]=(...s)=>{c==null||c(...s),a==null||a(...s)}:o==="style"?n[o]={...a,...c}:o==="className"&&(n[o]=[a,c].filter(Boolean).join(" "))}return{...e,...n}}const _a=["a","button","div","h2","h3","img","li","nav","ol","p","span","svg","ul"],rt=_a.reduce((e,t)=>{const n=r.forwardRef((o,a)=>{const{asChild:c,...l}=o,s=c?zt:t;return r.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),r.createElement(s,P({},l,{ref:a}))});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function Na(e,t){e&&Qe.flushSync(()=>e.dispatchEvent(t))}function Oa(e){const t=pe(e);r.useEffect(()=>{const n=o=>{o.key==="Escape"&&t(o)};return document.addEventListener("keydown",n),()=>document.removeEventListener("keydown",n)},[t])}const It="dismissableLayer.update",Ta="dismissableLayer.pointerDownOutside",Da="dismissableLayer.focusOutside";let ln;const Ia=r.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Aa=r.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:o,onPointerDownOutside:a,onFocusOutside:c,onInteractOutside:l,onDismiss:s,...d}=e,u=r.useContext(Ia),[m,f]=r.useState(null),[,b]=r.useState({}),$=je(t,N=>f(N)),h=Array.from(u.layers),[i]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),v=h.indexOf(i),p=m?h.indexOf(m):-1,g=u.layersWithOutsidePointerEventsDisabled.size>0,y=p>=v,C=ka(N=>{const O=N.target,D=[...u.branches].some(L=>L.contains(O));!y||D||(a==null||a(N),l==null||l(N),N.defaultPrevented||s==null||s())}),w=Ma(N=>{const O=N.target;[...u.branches].some(L=>L.contains(O))||(c==null||c(N),l==null||l(N),N.defaultPrevented||s==null||s())});return Oa(N=>{p===u.layers.size-1&&(o==null||o(N),!N.defaultPrevented&&s&&(N.preventDefault(),s()))}),r.useEffect(()=>{if(m)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(ln=document.body.style.pointerEvents,document.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(m)),u.layers.add(m),un(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(document.body.style.pointerEvents=ln)}},[m,n,u]),r.useEffect(()=>()=>{m&&(u.layers.delete(m),u.layersWithOutsidePointerEventsDisabled.delete(m),un())},[m,u]),r.useEffect(()=>{const N=()=>b({});return document.addEventListener(It,N),()=>document.removeEventListener(It,N)},[]),r.createElement(rt.div,P({},d,{ref:$,style:{pointerEvents:g?y?"auto":"none":void 0,...e.style},onFocusCapture:Ce(e.onFocusCapture,w.onFocusCapture),onBlurCapture:Ce(e.onBlurCapture,w.onBlurCapture),onPointerDownCapture:Ce(e.onPointerDownCapture,C.onPointerDownCapture)}))});function ka(e){const t=pe(e),n=r.useRef(!1),o=r.useRef(()=>{});return r.useEffect(()=>{const a=l=>{if(l.target&&!n.current){let d=function(){rr(Ta,t,s,{discrete:!0})};const s={originalEvent:l};l.pointerType==="touch"?(document.removeEventListener("click",o.current),o.current=d,document.addEventListener("click",o.current,{once:!0})):d()}n.current=!1},c=window.setTimeout(()=>{document.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(c),document.removeEventListener("pointerdown",a),document.removeEventListener("click",o.current)}},[t]),{onPointerDownCapture:()=>n.current=!0}}function Ma(e){const t=pe(e),n=r.useRef(!1);return r.useEffect(()=>{const o=a=>{a.target&&!n.current&&rr(Da,t,{originalEvent:a},{discrete:!1})};return document.addEventListener("focusin",o),()=>document.removeEventListener("focusin",o)},[t]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function un(){const e=new CustomEvent(It);document.dispatchEvent(e)}function rr(e,t,n,{discrete:o}){const a=n.originalEvent.target,c=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&a.addEventListener(e,t,{once:!0}),o?Na(a,c):a.dispatchEvent(c)}const Et="focusScope.autoFocusOnMount",xt="focusScope.autoFocusOnUnmount",dn={bubbles:!1,cancelable:!0},Fa=r.forwardRef((e,t)=>{const{loop:n=!1,trapped:o=!1,onMountAutoFocus:a,onUnmountAutoFocus:c,...l}=e,[s,d]=r.useState(null),u=pe(a),m=pe(c),f=r.useRef(null),b=je(t,i=>d(i)),$=r.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;r.useEffect(()=>{if(o){let i=function(p){if($.paused||!s)return;const g=p.target;s.contains(g)?f.current=g:fe(f.current,{select:!0})},v=function(p){$.paused||!s||s.contains(p.relatedTarget)||fe(f.current,{select:!0})};return document.addEventListener("focusin",i),document.addEventListener("focusout",v),()=>{document.removeEventListener("focusin",i),document.removeEventListener("focusout",v)}}},[o,s,$.paused]),r.useEffect(()=>{if(s){pn.add($);const i=document.activeElement;if(!s.contains(i)){const p=new CustomEvent(Et,dn);s.addEventListener(Et,u),s.dispatchEvent(p),p.defaultPrevented||(La(Ua(or(s)),{select:!0}),document.activeElement===i&&fe(s))}return()=>{s.removeEventListener(Et,u),setTimeout(()=>{const p=new CustomEvent(xt,dn);s.addEventListener(xt,m),s.dispatchEvent(p),p.defaultPrevented||fe(i??document.body,{select:!0}),s.removeEventListener(xt,m),pn.remove($)},0)}}},[s,u,m,$]);const h=r.useCallback(i=>{if(!n&&!o||$.paused)return;const v=i.key==="Tab"&&!i.altKey&&!i.ctrlKey&&!i.metaKey,p=document.activeElement;if(v&&p){const g=i.currentTarget,[y,C]=ja(g);y&&C?!i.shiftKey&&p===C?(i.preventDefault(),n&&fe(y,{select:!0})):i.shiftKey&&p===y&&(i.preventDefault(),n&&fe(C,{select:!0})):p===g&&i.preventDefault()}},[n,o,$.paused]);return r.createElement(rt.div,P({tabIndex:-1},l,{ref:b,onKeyDown:h}))});function La(e,{select:t=!1}={}){const n=document.activeElement;for(const o of e)if(fe(o,{select:t}),document.activeElement!==n)return}function ja(e){const t=or(e),n=fn(t,e),o=fn(t.reverse(),e);return[n,o]}function or(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:o=>{const a=o.tagName==="INPUT"&&o.type==="hidden";return o.disabled||o.hidden||a?NodeFilter.FILTER_SKIP:o.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function fn(e,t){for(const n of e)if(!Va(n,{upTo:t}))return n}function Va(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Ba(e){return e instanceof HTMLInputElement&&"select"in e}function fe(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&Ba(e)&&t&&e.select()}}const pn=Wa();function Wa(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=mn(e,t),e.unshift(t)},remove(t){var n;e=mn(e,t),(n=e[0])===null||n===void 0||n.resume()}}}function mn(e,t){const n=[...e],o=n.indexOf(t);return o!==-1&&n.splice(o,1),n}function Ua(e){return e.filter(t=>t.tagName!=="A")}const Ka=r.forwardRef((e,t)=>{var n;const{container:o=globalThis==null||(n=globalThis.document)===null||n===void 0?void 0:n.body,...a}=e;return o?Sn.createPortal(r.createElement(rt.div,P({},a,{ref:t})),o):null});function Ha(e,t){return r.useReducer((n,o)=>{const a=t[n][o];return a??n},e)}const ot=e=>{const{present:t,children:n}=e,o=Ga(t),a=typeof n=="function"?n({present:o.isPresent}):r.Children.only(n),c=je(o.ref,a.ref);return typeof n=="function"||o.isPresent?r.cloneElement(a,{ref:c}):null};ot.displayName="Presence";function Ga(e){const[t,n]=r.useState(),o=r.useRef({}),a=r.useRef(e),c=r.useRef("none"),l=e?"mounted":"unmounted",[s,d]=Ha(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return r.useEffect(()=>{const u=Ge(o.current);c.current=s==="mounted"?u:"none"},[s]),Tt(()=>{const u=o.current,m=a.current;if(m!==e){const b=c.current,$=Ge(u);e?d("MOUNT"):$==="none"||(u==null?void 0:u.display)==="none"?d("UNMOUNT"):d(m&&b!==$?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,d]),Tt(()=>{if(t){const u=f=>{const $=Ge(o.current).includes(f.animationName);f.target===t&&$&&Qe.flushSync(()=>d("ANIMATION_END"))},m=f=>{f.target===t&&(c.current=Ge(o.current))};return t.addEventListener("animationstart",m),t.addEventListener("animationcancel",u),t.addEventListener("animationend",u),()=>{t.removeEventListener("animationstart",m),t.removeEventListener("animationcancel",u),t.removeEventListener("animationend",u)}}else d("ANIMATION_END")},[t,d]),{isPresent:["mounted","unmountSuspended"].includes(s),ref:r.useCallback(u=>{u&&(o.current=getComputedStyle(u)),n(u)},[])}}function Ge(e){return(e==null?void 0:e.animationName)||"none"}let yt=0;function za(){r.useEffect(()=>{var e,t;const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(e=n[0])!==null&&e!==void 0?e:vn()),document.body.insertAdjacentElement("beforeend",(t=n[1])!==null&&t!==void 0?t:vn()),yt++,()=>{yt===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(o=>o.remove()),yt--}},[])}function vn(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",e}var ar=kn(),Ct=function(){},at=r.forwardRef(function(e,t){var n=r.useRef(null),o=r.useState({onScrollCapture:Ct,onWheelCapture:Ct,onTouchMoveCapture:Ct}),a=o[0],c=o[1],l=e.forwardProps,s=e.children,d=e.className,u=e.removeScrollBar,m=e.enabled,f=e.shards,b=e.sideCar,$=e.noIsolation,h=e.inert,i=e.allowPinchZoom,v=e.as,p=v===void 0?"div":v,g=Kt(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as"]),y=b,C=An([n,t]),w=H(H({},g),a);return r.createElement(r.Fragment,null,m&&r.createElement(y,{sideCar:ar,removeScrollBar:u,shards:f,noIsolation:$,inert:h,setCallbacks:c,allowPinchZoom:!!i,lockRef:n}),l?r.cloneElement(r.Children.only(s),H(H({},w),{ref:C})):r.createElement(p,H({},w,{className:d,ref:C}),s))});at.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};at.classNames={fullWidth:Te,zeroRight:Oe};var At=!1;if(typeof window<"u")try{var ze=Object.defineProperty({},"passive",{get:function(){return At=!0,!0}});window.addEventListener("test",ze,ze),window.removeEventListener("test",ze,ze)}catch{At=!1}var be=At?{passive:!1}:!1,Ya=function(e){var t=window.getComputedStyle(e);return t.overflowY!=="hidden"&&!(t.overflowY===t.overflowX&&t.overflowY==="visible")},Xa=function(e){var t=window.getComputedStyle(e);return t.overflowX!=="hidden"&&!(t.overflowY===t.overflowX&&t.overflowX==="visible")},hn=function(e,t){var n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var o=cr(e,n);if(o){var a=sr(e,n),c=a[1],l=a[2];if(c>l)return!0}n=n.parentNode}while(n&&n!==document.body);return!1},qa=function(e){var t=e.scrollTop,n=e.scrollHeight,o=e.clientHeight;return[t,n,o]},Za=function(e){var t=e.scrollLeft,n=e.scrollWidth,o=e.clientWidth;return[t,n,o]},cr=function(e,t){return e==="v"?Ya(t):Xa(t)},sr=function(e,t){return e==="v"?qa(t):Za(t)},Qa=function(e,t){return e==="h"&&t==="rtl"?-1:1},Ja=function(e,t,n,o,a){var c=Qa(e,window.getComputedStyle(t).direction),l=c*o,s=n.target,d=t.contains(s),u=!1,m=l>0,f=0,b=0;do{var $=sr(e,s),h=$[0],i=$[1],v=$[2],p=i-v-c*h;(h||p)&&cr(e,s)&&(f+=p,b+=h),s=s.parentNode}while(!d&&s!==document.body||d&&(t.contains(s)||t===s));return(m&&(a&&f===0||!a&&l>f)||!m&&(a&&b===0||!a&&-l>b))&&(u=!0),u},Ye=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},gn=function(e){return[e.deltaX,e.deltaY]},$n=function(e){return e&&"current"in e?e.current:e},ec=function(e,t){return e[0]===t[0]&&e[1]===t[1]},tc=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},nc=0,Ee=[];function rc(e){var t=r.useRef([]),n=r.useRef([0,0]),o=r.useRef(),a=r.useState(nc++)[0],c=r.useState(function(){return Ht()})[0],l=r.useRef(e);r.useEffect(function(){l.current=e},[e]),r.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var i=In([e.lockRef.current],(e.shards||[]).map($n),!0).filter(Boolean);return i.forEach(function(v){return v.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),i.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var s=r.useCallback(function(i,v){if("touches"in i&&i.touches.length===2)return!l.current.allowPinchZoom;var p=Ye(i),g=n.current,y="deltaX"in i?i.deltaX:g[0]-p[0],C="deltaY"in i?i.deltaY:g[1]-p[1],w,N=i.target,O=Math.abs(y)>Math.abs(C)?"h":"v";if("touches"in i&&O==="h"&&N.type==="range")return!1;var D=hn(O,N);if(!D)return!0;if(D?w=O:(w=O==="v"?"h":"v",D=hn(O,N)),!D)return!1;if(!o.current&&"changedTouches"in i&&(y||C)&&(o.current=w),!w)return!0;var L=o.current||w;return Ja(L,v,i,L==="h"?y:C,!0)},[]),d=r.useCallback(function(i){var v=i;if(!(!Ee.length||Ee[Ee.length-1]!==c)){var p="deltaY"in v?gn(v):Ye(v),g=t.current.filter(function(w){return w.name===v.type&&w.target===v.target&&ec(w.delta,p)})[0];if(g&&g.should){v.preventDefault();return}if(!g){var y=(l.current.shards||[]).map($n).filter(Boolean).filter(function(w){return w.contains(v.target)}),C=y.length>0?s(v,y[0]):!l.current.noIsolation;C&&v.preventDefault()}}},[]),u=r.useCallback(function(i,v,p,g){var y={name:i,delta:v,target:p,should:g};t.current.push(y),setTimeout(function(){t.current=t.current.filter(function(C){return C!==y})},1)},[]),m=r.useCallback(function(i){n.current=Ye(i),o.current=void 0},[]),f=r.useCallback(function(i){u(i.type,gn(i),i.target,s(i,e.lockRef.current))},[]),b=r.useCallback(function(i){u(i.type,Ye(i),i.target,s(i,e.lockRef.current))},[]);r.useEffect(function(){return Ee.push(c),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:b}),document.addEventListener("wheel",d,be),document.addEventListener("touchmove",d,be),document.addEventListener("touchstart",m,be),function(){Ee=Ee.filter(function(i){return i!==c}),document.removeEventListener("wheel",d,be),document.removeEventListener("touchmove",d,be),document.removeEventListener("touchstart",m,be)}},[]);var $=e.removeScrollBar,h=e.inert;return r.createElement(r.Fragment,null,h?r.createElement(c,{styles:tc(a)}):null,$?r.createElement(jn,{gapMode:"margin"}):null)}const oc=Fn(ar,rc);var lr=r.forwardRef(function(e,t){return r.createElement(at,H({},e,{ref:t,sideCar:oc}))});lr.classNames=at.classNames;const ac=lr,ir="Dialog",[ur,sl]=ba(ir),[cc,me]=ur(ir),sc=e=>{const{__scopeDialog:t,children:n,open:o,defaultOpen:a,onOpenChange:c,modal:l=!0}=e,s=r.useRef(null),d=r.useRef(null),[u=!1,m]=Ca({prop:o,defaultProp:a,onChange:c});return r.createElement(cc,{scope:t,triggerRef:s,contentRef:d,contentId:bt(),titleId:bt(),descriptionId:bt(),open:u,onOpenChange:m,onOpenToggle:r.useCallback(()=>m(f=>!f),[m]),modal:l},n)},dr="DialogPortal",[lc,fr]=ur(dr,{forceMount:void 0}),ic=e=>{const{__scopeDialog:t,forceMount:n,children:o,container:a}=e,c=me(dr,t);return r.createElement(lc,{scope:t,forceMount:n},r.Children.map(o,l=>r.createElement(ot,{present:n||c.open},r.createElement(Ka,{asChild:!0,container:a},l))))},kt="DialogOverlay",uc=r.forwardRef((e,t)=>{const n=fr(kt,e.__scopeDialog),{forceMount:o=n.forceMount,...a}=e,c=me(kt,e.__scopeDialog);return c.modal?r.createElement(ot,{present:o||c.open},r.createElement(dc,P({},a,{ref:t}))):null}),dc=r.forwardRef((e,t)=>{const{__scopeDialog:n,...o}=e,a=me(kt,n);return r.createElement(ac,{as:zt,allowPinchZoom:!0,shards:[a.contentRef]},r.createElement(rt.div,P({"data-state":mr(a.open)},o,{ref:t,style:{pointerEvents:"auto",...o.style}})))}),ke="DialogContent",fc=r.forwardRef((e,t)=>{const n=fr(ke,e.__scopeDialog),{forceMount:o=n.forceMount,...a}=e,c=me(ke,e.__scopeDialog);return r.createElement(ot,{present:o||c.open},c.modal?r.createElement(pc,P({},a,{ref:t})):r.createElement(mc,P({},a,{ref:t})))}),pc=r.forwardRef((e,t)=>{const n=me(ke,e.__scopeDialog),o=r.useRef(null),a=je(t,n.contentRef,o);return r.useEffect(()=>{const c=o.current;if(c)return nt(c)},[]),r.createElement(pr,P({},e,{ref:a,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ce(e.onCloseAutoFocus,c=>{var l;c.preventDefault(),(l=n.triggerRef.current)===null||l===void 0||l.focus()}),onPointerDownOutside:Ce(e.onPointerDownOutside,c=>{const l=c.detail.originalEvent,s=l.button===0&&l.ctrlKey===!0;(l.button===2||s)&&c.preventDefault()}),onFocusOutside:Ce(e.onFocusOutside,c=>c.preventDefault())}))}),mc=r.forwardRef((e,t)=>{const n=me(ke,e.__scopeDialog),o=r.useRef(!1);return r.createElement(pr,P({},e,{ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var c;if((c=e.onCloseAutoFocus)===null||c===void 0||c.call(e,a),!a.defaultPrevented){var l;o.current||(l=n.triggerRef.current)===null||l===void 0||l.focus(),a.preventDefault()}o.current=!1},onInteractOutside:a=>{var c,l;(c=e.onInteractOutside)===null||c===void 0||c.call(e,a),a.defaultPrevented||(o.current=!0);const s=a.target;((l=n.triggerRef.current)===null||l===void 0?void 0:l.contains(s))&&a.preventDefault()}}))}),pr=r.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:o,onOpenAutoFocus:a,onCloseAutoFocus:c,...l}=e,s=me(ke,n),d=r.useRef(null),u=je(t,d);return za(),r.createElement(r.Fragment,null,r.createElement(Fa,{asChild:!0,loop:!0,trapped:o,onMountAutoFocus:a,onUnmountAutoFocus:c},r.createElement(Aa,P({role:"dialog",id:s.contentId,"aria-describedby":s.descriptionId,"aria-labelledby":s.titleId,"data-state":mr(s.open)},l,{ref:u,onDismiss:()=>s.onOpenChange(!1)}))),!1)});function mr(e){return e?"open":"closed"}const vc=sc,hc=ic,gc=uc,$c=fc;var bn=1,bc=.9,Ec=.3,wt=.1,xc=0,St=.999,yc=.9999,Cc=.99,En=/[\\\/\-_+.# \t"@\[\(\{&]/,wc=/[\\\/\-_+.# \t"@\[\(\{&]/g;function Mt(e,t,n,o,a,c){if(c===t.length)return a===e.length?bn:Cc;for(var l=o.charAt(c),s=n.indexOf(l,a),d=0,u,m,f;s>=0;)u=Mt(e,t,n,o,s+1,c+1),u>d&&(s===a?u*=bn:En.test(e.charAt(s-1))?(u*=bc,f=e.slice(a,s-1).match(wc),f&&a>0&&(u*=Math.pow(St,f.length))):En.test(e.slice(a,s-1))?(u*=xc,a>0&&(u*=Math.pow(St,s-a))):(u*=Ec,a>0&&(u*=Math.pow(St,s-a))),e.charAt(s)!==t.charAt(c)&&(u*=yc)),u<wt&&n.charAt(s-1)===o.charAt(c+1)&&n.charAt(s-1)!==o.charAt(c)&&(m=Mt(e,t,n,o,s+1,c+2),m*wt>u&&(u=m*wt)),u>d&&(d=u),s=n.indexOf(l,s+1);return d}function Sc(e,t){return Mt(e,t,e.toLowerCase(),t.toLowerCase(),0,0)}var Pc=Sc;const Rc=eo(Pc);var _c='[cmdk-list-sizer=""]',Ne='[cmdk-group=""]',Pt='[cmdk-group-items=""]',Nc='[cmdk-group-heading=""]',vr='[cmdk-item=""]',xn=`${vr}:not([aria-disabled="true"])`,Ft="cmdk-item-select",ue="data-value",Oc=(e,t)=>Rc(e,t),hr=r.createContext(void 0),Ve=()=>r.useContext(hr),gr=r.createContext(void 0),Yt=()=>r.useContext(gr),$r=r.createContext(void 0),br=r.forwardRef((e,t)=>{let n=r.useRef(null),o=xe(()=>({search:"",value:"",filtered:{count:0,items:new Map,groups:new Set}})),a=xe(()=>new Set),c=xe(()=>new Map),l=xe(()=>new Map),s=xe(()=>new Set),d=Er(e),{label:u,children:m,value:f,onValueChange:b,filter:$,shouldFilter:h,...i}=e,v=r.useId(),p=r.useId(),g=r.useId(),y=Bc();Pe(()=>{if(f!==void 0){let x=f.trim().toLowerCase();o.current.value=x,y(6,ce),C.emit()}},[f]);let C=r.useMemo(()=>({subscribe:x=>(s.current.add(x),()=>s.current.delete(x)),snapshot:()=>o.current,setState:(x,R,T)=>{var S,k,V;if(!Object.is(o.current[x],R)){if(o.current[x]=R,x==="search")L(),O(),y(1,D);else if(x==="value")if(((S=d.current)==null?void 0:S.value)!==void 0){(V=(k=d.current).onValueChange)==null||V.call(k,R);return}else T||y(5,ce);C.emit()}},emit:()=>{s.current.forEach(x=>x())}}),[]),w=r.useMemo(()=>({value:(x,R)=>{R!==l.current.get(x)&&(l.current.set(x,R),o.current.filtered.items.set(x,N(R)),y(2,()=>{O(),C.emit()}))},item:(x,R)=>(a.current.add(x),R&&(c.current.has(R)?c.current.get(R).add(x):c.current.set(R,new Set([x]))),y(3,()=>{L(),O(),o.current.value||D(),C.emit()}),()=>{l.current.delete(x),a.current.delete(x),o.current.filtered.items.delete(x),y(4,()=>{L(),D(),C.emit()})}),group:x=>(c.current.has(x)||c.current.set(x,new Set),()=>{l.current.delete(x),c.current.delete(x)}),filter:()=>d.current.shouldFilter,label:u||e["aria-label"],listId:v,inputId:g,labelId:p}),[]);function N(x){var R;let T=((R=d.current)==null?void 0:R.filter)??Oc;return x?T(x,o.current.search):0}function O(){if(!n.current||!o.current.search||d.current.shouldFilter===!1)return;let x=o.current.filtered.items,R=[];o.current.filtered.groups.forEach(S=>{let k=c.current.get(S),V=0;k.forEach(re=>{let de=x.get(re);V=Math.max(de,V)}),R.push([S,V])});let T=n.current.querySelector(_c);K().sort((S,k)=>{let V=S.getAttribute(ue),re=k.getAttribute(ue);return(x.get(re)??0)-(x.get(V)??0)}).forEach(S=>{let k=S.closest(Pt);k?k.appendChild(S.parentElement===k?S:S.closest(`${Pt} > *`)):T.appendChild(S.parentElement===T?S:S.closest(`${Pt} > *`))}),R.sort((S,k)=>k[1]-S[1]).forEach(S=>{let k=n.current.querySelector(`${Ne}[${ue}="${S[0]}"]`);k==null||k.parentElement.appendChild(k)})}function D(){let x=K().find(T=>!T.ariaDisabled),R=x==null?void 0:x.getAttribute(ue);C.setState("value",R||void 0)}function L(){if(!o.current.search||d.current.shouldFilter===!1){o.current.filtered.count=a.current.size;return}o.current.filtered.groups=new Set;let x=0;for(let R of a.current){let T=l.current.get(R),S=N(T);o.current.filtered.items.set(R,S),S>0&&x++}for(let[R,T]of c.current)for(let S of T)if(o.current.filtered.items.get(S)>0){o.current.filtered.groups.add(R);break}o.current.filtered.count=x}function ce(){var x,R,T;let S=q();S&&(((x=S.parentElement)==null?void 0:x.firstChild)===S&&((T=(R=S.closest(Ne))==null?void 0:R.querySelector(Nc))==null||T.scrollIntoView({block:"nearest"})),S.scrollIntoView({block:"nearest"}))}function q(){return n.current.querySelector(`${vr}[aria-selected="true"]`)}function K(){return Array.from(n.current.querySelectorAll(xn))}function Z(x){let R=K()[x];R&&C.setState("value",R.getAttribute(ue))}function Q(x){var R;let T=q(),S=K(),k=S.findIndex(re=>re===T),V=S[k+x];(R=d.current)!=null&&R.loop&&(V=k+x<0?S[S.length-1]:k+x===S.length?S[0]:S[k+x]),V&&C.setState("value",V.getAttribute(ue))}function W(x){let R=q(),T=R==null?void 0:R.closest(Ne),S;for(;T&&!S;)T=x>0?jc(T,Ne):Vc(T,Ne),S=T==null?void 0:T.querySelector(xn);S?C.setState("value",S.getAttribute(ue)):Q(x)}let Y=()=>Z(K().length-1),J=x=>{x.preventDefault(),x.metaKey?Y():x.altKey?W(1):Q(1)},se=x=>{x.preventDefault(),x.metaKey?Z(0):x.altKey?W(-1):Q(-1)};return r.createElement("div",{ref:Be([n,t]),...i,"cmdk-root":"",onKeyDown:x=>{var R;if((R=i.onKeyDown)==null||R.call(i,x),!x.defaultPrevented)switch(x.key){case"n":case"j":{x.ctrlKey&&J(x);break}case"ArrowDown":{J(x);break}case"p":case"k":{x.ctrlKey&&se(x);break}case"ArrowUp":{se(x);break}case"Home":{x.preventDefault(),Z(0);break}case"End":{x.preventDefault(),Y();break}case"Enter":{x.preventDefault();let T=q();if(T){let S=new Event(Ft);T.dispatchEvent(S)}}}}},r.createElement("label",{"cmdk-label":"",htmlFor:w.inputId,id:w.labelId,style:Wc},u),r.createElement(gr.Provider,{value:C},r.createElement(hr.Provider,{value:w},m)))}),Tc=r.forwardRef((e,t)=>{let n=r.useId(),o=r.useRef(null),a=r.useContext($r),c=Ve(),l=Er(e);Pe(()=>c.item(n,a),[]);let s=xr(n,o,[e.value,e.children,o]),d=Yt(),u=we(p=>p.value&&p.value===s.current),m=we(p=>c.filter()===!1?!0:p.search?p.filtered.items.get(n)>0:!0);r.useEffect(()=>{let p=o.current;if(!(!p||e.disabled))return p.addEventListener(Ft,f),()=>p.removeEventListener(Ft,f)},[m,e.onSelect,e.disabled]);function f(){var p,g;(g=(p=l.current).onSelect)==null||g.call(p,s.current)}function b(){d.setState("value",s.current,!0)}if(!m)return null;let{disabled:$,value:h,onSelect:i,...v}=e;return r.createElement("div",{ref:Be([o,t]),...v,"cmdk-item":"",role:"option","aria-disabled":$||void 0,"aria-selected":u||void 0,"data-selected":u||void 0,onPointerMove:$?void 0:b,onClick:$?void 0:f},e.children)}),Dc=r.forwardRef((e,t)=>{let{heading:n,children:o,...a}=e,c=r.useId(),l=r.useRef(null),s=r.useRef(null),d=r.useId(),u=Ve(),m=we(b=>u.filter()===!1?!0:b.search?b.filtered.groups.has(c):!0);Pe(()=>u.group(c),[]),xr(c,l,[e.value,e.heading,s]);let f=r.createElement($r.Provider,{value:c},o);return r.createElement("div",{ref:Be([l,t]),...a,"cmdk-group":"",role:"presentation",hidden:m?void 0:!0},n&&r.createElement("div",{ref:s,"cmdk-group-heading":"","aria-hidden":!0,id:d},n),r.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":n?d:void 0},f))}),Ic=r.forwardRef((e,t)=>{let{alwaysRender:n,...o}=e,a=r.useRef(null),c=we(l=>!l.search);return!n&&!c?null:r.createElement("div",{ref:Be([a,t]),...o,"cmdk-separator":"",role:"separator"})}),Ac=r.forwardRef((e,t)=>{let{onValueChange:n,...o}=e,a=e.value!=null,c=Yt(),l=we(d=>d.search),s=Ve();return r.useEffect(()=>{e.value!=null&&c.setState("search",e.value)},[e.value]),r.createElement("input",{ref:t,...o,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":s.listId,"aria-labelledby":s.labelId,id:s.inputId,type:"text",value:a?e.value:l,onChange:d=>{a||c.setState("search",d.target.value),n==null||n(d.target.value)}})}),kc=r.forwardRef((e,t)=>{let{children:n,...o}=e,a=r.useRef(null),c=r.useRef(null),l=Ve();return r.useEffect(()=>{if(c.current&&a.current){let s=c.current,d=a.current,u,m=new ResizeObserver(()=>{u=requestAnimationFrame(()=>{let f=s.getBoundingClientRect().height;d.style.setProperty("--cmdk-list-height",f.toFixed(1)+"px")})});return m.observe(s),()=>{cancelAnimationFrame(u),m.unobserve(s)}}},[]),r.createElement("div",{ref:Be([a,t]),...o,"cmdk-list":"",role:"listbox","aria-label":"Suggestions",id:l.listId,"aria-labelledby":l.inputId},r.createElement("div",{ref:c,"cmdk-list-sizer":""},n))}),Mc=r.forwardRef((e,t)=>{let{open:n,onOpenChange:o,container:a,...c}=e;return r.createElement(vc,{open:n,onOpenChange:o},r.createElement(hc,{container:a},r.createElement(gc,{"cmdk-overlay":""}),r.createElement($c,{"aria-label":e.label,"cmdk-dialog":""},r.createElement(br,{ref:t,...c}))))}),Fc=r.forwardRef((e,t)=>{let n=r.useRef(!0),o=we(a=>a.filtered.count===0);return r.useEffect(()=>{n.current=!1},[]),n.current||!o?null:r.createElement("div",{ref:t,...e,"cmdk-empty":"",role:"presentation"})}),Lc=r.forwardRef((e,t)=>{let{progress:n,children:o,...a}=e;return r.createElement("div",{ref:t,...a,"cmdk-loading":"",role:"progressbar","aria-valuenow":n,"aria-valuemin":0,"aria-valuemax":100,"aria-label":"Loading..."},r.createElement("div",{"aria-hidden":!0},o))}),z=Object.assign(br,{List:kc,Item:Tc,Input:Ac,Group:Dc,Separator:Ic,Dialog:Mc,Empty:Fc,Loading:Lc});function jc(e,t){let n=e.nextElementSibling;for(;n;){if(n.matches(t))return n;n=n.nextElementSibling}}function Vc(e,t){let n=e.previousElementSibling;for(;n;){if(n.matches(t))return n;n=n.previousElementSibling}}function Er(e){let t=r.useRef(e);return Pe(()=>{t.current=e}),t}var Pe=typeof window>"u"?r.useEffect:r.useLayoutEffect;function xe(e){let t=r.useRef();return t.current===void 0&&(t.current=e()),t}function Be(e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}function we(e){let t=Yt(),n=()=>e(t.snapshot());return r.useSyncExternalStore(t.subscribe,n,n)}function xr(e,t,n){let o=r.useRef(),a=Ve();return Pe(()=>{var c;let l=(()=>{var s;for(let d of n){if(typeof d=="string")return d.trim().toLowerCase();if(typeof d=="object"&&"current"in d&&d.current)return(s=d.current.textContent)==null?void 0:s.trim().toLowerCase()}})();a.value(e,l),(c=t.current)==null||c.setAttribute(ue,l),o.current=l}),o}var Bc=()=>{let[e,t]=r.useState(),n=xe(()=>new Map);return Pe(()=>{n.current.forEach(o=>o()),n.current=new Map},[e]),(o,a)=>{n.current.set(o,a),t({})}},Wc={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const yr=r.forwardRef(({className:e,...t},n)=>E.jsx(z,{ref:n,className:B("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",e),...t}));yr.displayName=z.displayName;const Cr=r.forwardRef(({className:e,...t},n)=>E.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[E.jsx(uo,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),E.jsx(z.Input,{ref:n,className:B("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",e),...t})]}));Cr.displayName=z.Input.displayName;const Uc=r.forwardRef(({className:e,...t},n)=>E.jsx(z.List,{ref:n,className:B("max-h-[300px] overflow-y-auto overflow-x-hidden",e),...t}));Uc.displayName=z.List.displayName;const wr=r.forwardRef((e,t)=>E.jsx(z.Empty,{ref:t,className:"py-6 text-center text-sm",...e}));wr.displayName=z.Empty.displayName;const Sr=r.forwardRef(({className:e,...t},n)=>E.jsx(z.Group,{ref:n,className:B("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",e),...t}));Sr.displayName=z.Group.displayName;const Kc=r.forwardRef(({className:e,...t},n)=>E.jsx(z.Separator,{ref:n,className:B("-mx-1 h-px bg-border",e),...t}));Kc.displayName=z.Separator.displayName;const Pr=r.forwardRef(({className:e,...t},n)=>E.jsx(z.Item,{ref:n,className:B("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none aria-selected:bg-accent aria-selected:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...t}));Pr.displayName=z.Item.displayName;const Rr="Popover",[_r,ll]=Ze(Rr,[Je]),Xt=Je(),[Hc,Re]=_r(Rr),Gc=e=>{const{__scopePopover:t,children:n,open:o,defaultOpen:a,onOpenChange:c,modal:l=!1}=e,s=Xt(t),d=r.useRef(null),[u,m]=r.useState(!1),[f=!1,b]=_t({prop:o,defaultProp:a,onChange:c});return r.createElement(Rn,s,r.createElement(Hc,{scope:t,contentId:et(),triggerRef:d,open:f,onOpenChange:b,onOpenToggle:r.useCallback(()=>b($=>!$),[b]),hasCustomAnchor:u,onCustomAnchorAdd:r.useCallback(()=>m(!0),[]),onCustomAnchorRemove:r.useCallback(()=>m(!1),[]),modal:l},n))},zc="PopoverTrigger",Yc=r.forwardRef((e,t)=>{const{__scopePopover:n,...o}=e,a=Re(zc,n),c=Xt(n),l=G(t,a.triggerRef),s=r.createElement(U.button,P({type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":Tr(a.open)},o,{ref:l,onClick:j(e.onClick,a.onOpenToggle)}));return a.hasCustomAnchor?s:r.createElement(_n,P({asChild:!0},c),s)}),Nr="PopoverPortal",[Xc,qc]=_r(Nr,{forceMount:void 0}),Zc=e=>{const{__scopePopover:t,forceMount:n,children:o,container:a}=e,c=Re(Nr,t);return r.createElement(Xc,{scope:t,forceMount:n},r.createElement(Le,{present:n||c.open},r.createElement(Bt,{asChild:!0,container:a},o)))},Me="PopoverContent",Qc=r.forwardRef((e,t)=>{const n=qc(Me,e.__scopePopover),{forceMount:o=n.forceMount,...a}=e,c=Re(Me,e.__scopePopover);return r.createElement(Le,{present:o||c.open},c.modal?r.createElement(Jc,P({},a,{ref:t})):r.createElement(es,P({},a,{ref:t})))}),Jc=r.forwardRef((e,t)=>{const n=Re(Me,e.__scopePopover),o=r.useRef(null),a=G(t,o),c=r.useRef(!1);return r.useEffect(()=>{const l=o.current;if(l)return nt(l)},[]),r.createElement(Gt,{as:De,allowPinchZoom:!0},r.createElement(Or,P({},e,{ref:a,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:j(e.onCloseAutoFocus,l=>{var s;l.preventDefault(),c.current||(s=n.triggerRef.current)===null||s===void 0||s.focus()}),onPointerDownOutside:j(e.onPointerDownOutside,l=>{const s=l.detail.originalEvent,d=s.button===0&&s.ctrlKey===!0,u=s.button===2||d;c.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:j(e.onFocusOutside,l=>l.preventDefault(),{checkForDefaultPrevented:!1})})))}),es=r.forwardRef((e,t)=>{const n=Re(Me,e.__scopePopover),o=r.useRef(!1),a=r.useRef(!1);return r.createElement(Or,P({},e,{ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:c=>{var l;if((l=e.onCloseAutoFocus)===null||l===void 0||l.call(e,c),!c.defaultPrevented){var s;o.current||(s=n.triggerRef.current)===null||s===void 0||s.focus(),c.preventDefault()}o.current=!1,a.current=!1},onInteractOutside:c=>{var l,s;(l=e.onInteractOutside)===null||l===void 0||l.call(e,c),c.defaultPrevented||(o.current=!0,c.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const d=c.target;((s=n.triggerRef.current)===null||s===void 0?void 0:s.contains(d))&&c.preventDefault(),c.detail.originalEvent.type==="focusin"&&a.current&&c.preventDefault()}}))}),Or=r.forwardRef((e,t)=>{const{__scopePopover:n,trapFocus:o,onOpenAutoFocus:a,onCloseAutoFocus:c,disableOutsidePointerEvents:l,onEscapeKeyDown:s,onPointerDownOutside:d,onFocusOutside:u,onInteractOutside:m,...f}=e,b=Re(Me,n),$=Xt(n);return Ut(),r.createElement(Wt,{asChild:!0,loop:!0,trapped:o,onMountAutoFocus:a,onUnmountAutoFocus:c},r.createElement(Vt,{asChild:!0,disableOutsidePointerEvents:l,onInteractOutside:m,onEscapeKeyDown:s,onPointerDownOutside:d,onFocusOutside:u,onDismiss:()=>b.onOpenChange(!1)},r.createElement(Pn,P({"data-state":Tr(b.open),role:"dialog",id:b.contentId},$,f,{ref:t,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}}))))});function Tr(e){return e?"open":"closed"}const ts=Gc,ns=Yc,rs=Zc,Dr=Qc,os=ts,as=ns,Ir=r.forwardRef(({className:e,align:t="center",sideOffset:n=4,...o},a)=>E.jsx(rs,{children:E.jsx(Dr,{ref:a,align:t,sideOffset:n,className:B("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...o})}));Ir.displayName=Dr.displayName;function cs({value:e,onChange:t}){var d,u,m;const[n,o]=r.useState(!1),[a,c]=r.useState(""),l=e??a,s=Nn({queryKey:["/genres/anime"],queryFn:()=>ro()});return E.jsxs(os,{open:n,onOpenChange:o,children:[E.jsx(as,{asChild:!0,children:E.jsxs(qe,{variant:"outline",role:"combobox","aria-expanded":n,className:"w-[200px] justify-between",children:[l?(u=(d=s.data)==null?void 0:d.data.find(f=>f.mal_id===l))==null?void 0:u.name:"Select Genre",E.jsx(io,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),E.jsx(Ir,{className:"w-[200px] p-0",children:E.jsxs(yr,{children:[E.jsx(Cr,{placeholder:"Search Genre..."}),E.jsx(wr,{children:"No Genre found."}),E.jsx(Sr,{className:"max-h-[168px] overflow-y-auto",children:(m=s.data)==null?void 0:m.data.map(f=>E.jsxs(Pr,{value:`${f.mal_id}-${f.name}`,onSelect:b=>{const[$]=b.split("-"),h=Number($),i=h===l?"":h||"";c(i),t==null||t(i),o(!1)},children:[E.jsx(On,{className:B("mr-2 h-4 w-4",l===f.mal_id?"opacity-100":"opacity-0")}),f.name]},f.mal_id))})]})})]})}const Lt=({page:e=1,totalPages:t=1,onChange:n})=>E.jsx("div",{className:"relative h-10 overflow-hidden",children:Array.from({length:t},(o,a)=>{const c=a+1,l=c-e;return E.jsx(qe,{size:"icon",variant:e===c?"default":"secondary",onClick:()=>e!==c&&(n==null?void 0:n(c)),className:"absolute left-1/2 transition-transform",style:{transform:`translateX(calc(${l*100-50}% + ${l*8}px))`},children:c},c)})});Lt.displayName="Pagination";var Ar=(e=>(e.airing="airing",e.complete="complete",e.upcoming="upcoming",e))(Ar||{}),kr=(e=>(e.Tv="TV",e.Movie="Movie",e.OVA="OVA",e.Special="Special",e.ONA="ONA",e.Music="Music",e))(kr||{}),ee=(e=>(e.mal_id="mal_id",e.title="title",e.start_date="start_date",e.end_date="end_date",e.episodes="episodes",e.score="score",e.scored_by="scored_by",e.rank="rank",e.popularity="popularity",e.members="members",e.favorites="favorites",e))(ee||{}),ye=(e=>(e.desc="desc",e.asc="asc",e))(ye||{});function yn(e,[t,n]){return Math.min(n,Math.max(t,e))}function ss(e){const t=e+"CollectionProvider",[n,o]=Ze(t),[a,c]=n(t,{collectionRef:{current:null},itemMap:new Map}),l=$=>{const{scope:h,children:i}=$,v=oe.useRef(null),p=oe.useRef(new Map).current;return oe.createElement(a,{scope:h,itemMap:p,collectionRef:v},i)},s=e+"CollectionSlot",d=oe.forwardRef(($,h)=>{const{scope:i,children:v}=$,p=c(s,i),g=G(h,p.collectionRef);return oe.createElement(De,{ref:g},v)}),u=e+"CollectionItemSlot",m="data-radix-collection-item",f=oe.forwardRef(($,h)=>{const{scope:i,children:v,...p}=$,g=oe.useRef(null),y=G(h,g),C=c(u,i);return oe.useEffect(()=>(C.itemMap.set(g,{ref:g,...p}),()=>void C.itemMap.delete(g))),oe.createElement(De,{[m]:"",ref:y},v)});function b($){const h=c(e+"CollectionConsumer",$);return oe.useCallback(()=>{const v=h.collectionRef.current;if(!v)return[];const p=Array.from(v.querySelectorAll(`[${m}]`));return Array.from(h.itemMap.values()).sort((C,w)=>p.indexOf(C.ref.current)-p.indexOf(w.ref.current))},[h.collectionRef,h.itemMap])}return[{Provider:l,Slot:d,ItemSlot:f},b,o]}const ls=r.createContext(void 0);function is(e){const t=r.useContext(ls);return e||t||"ltr"}function us(e){const t=r.useRef({value:e,previous:e});return r.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}const ds=[" ","Enter","ArrowUp","ArrowDown"],fs=[" ","Enter"],ct="Select",[st,qt,ps]=ss(ct),[_e,il]=Ze(ct,[ps,Je]),Zt=Je(),[ms,ve]=_e(ct),[vs,hs]=_e(ct),gs=e=>{const{__scopeSelect:t,children:n,open:o,defaultOpen:a,onOpenChange:c,value:l,defaultValue:s,onValueChange:d,dir:u,name:m,autoComplete:f,disabled:b,required:$}=e,h=Zt(t),[i,v]=r.useState(null),[p,g]=r.useState(null),[y,C]=r.useState(!1),w=is(u),[N=!1,O]=_t({prop:o,defaultProp:a,onChange:c}),[D,L]=_t({prop:l,defaultProp:s,onChange:d}),ce=r.useRef(null),q=i?!!i.closest("form"):!0,[K,Z]=r.useState(new Set),Q=Array.from(K).map(W=>W.props.value).join(";");return r.createElement(Rn,h,r.createElement(ms,{required:$,scope:t,trigger:i,onTriggerChange:v,valueNode:p,onValueNodeChange:g,valueNodeHasChildren:y,onValueNodeHasChildrenChange:C,contentId:et(),value:D,onValueChange:L,open:N,onOpenChange:O,dir:w,triggerPointerDownPosRef:ce,disabled:b},r.createElement(st.Provider,{scope:t},r.createElement(vs,{scope:e.__scopeSelect,onNativeOptionAdd:r.useCallback(W=>{Z(Y=>new Set(Y).add(W))},[]),onNativeOptionRemove:r.useCallback(W=>{Z(Y=>{const J=new Set(Y);return J.delete(W),J})},[])},n)),q?r.createElement(jr,{key:Q,"aria-hidden":!0,required:$,tabIndex:-1,name:m,autoComplete:f,value:D,onChange:W=>L(W.target.value),disabled:b},D===void 0?r.createElement("option",{value:""}):null,Array.from(K)):null))},$s="SelectTrigger",bs=r.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:o=!1,...a}=e,c=Zt(n),l=ve($s,n),s=l.disabled||o,d=G(t,l.onTriggerChange),u=qt(n),[m,f,b]=Vr(h=>{const i=u().filter(g=>!g.disabled),v=i.find(g=>g.value===l.value),p=Br(i,h,v);p!==void 0&&l.onValueChange(p.value)}),$=()=>{s||(l.onOpenChange(!0),b())};return r.createElement(_n,P({asChild:!0},c),r.createElement(U.button,P({type:"button",role:"combobox","aria-controls":l.contentId,"aria-expanded":l.open,"aria-required":l.required,"aria-autocomplete":"none",dir:l.dir,"data-state":l.open?"open":"closed",disabled:s,"data-disabled":s?"":void 0,"data-placeholder":Lr(l.value)?"":void 0},a,{ref:d,onClick:j(a.onClick,h=>{h.currentTarget.focus()}),onPointerDown:j(a.onPointerDown,h=>{const i=h.target;i.hasPointerCapture(h.pointerId)&&i.releasePointerCapture(h.pointerId),h.button===0&&h.ctrlKey===!1&&($(),l.triggerPointerDownPosRef.current={x:Math.round(h.pageX),y:Math.round(h.pageY)},h.preventDefault())}),onKeyDown:j(a.onKeyDown,h=>{const i=m.current!=="";!(h.ctrlKey||h.altKey||h.metaKey)&&h.key.length===1&&f(h.key),!(i&&h.key===" ")&&ds.includes(h.key)&&($(),h.preventDefault())})})))}),Es="SelectValue",xs=r.forwardRef((e,t)=>{const{__scopeSelect:n,className:o,style:a,children:c,placeholder:l="",...s}=e,d=ve(Es,n),{onValueNodeHasChildrenChange:u}=d,m=c!==void 0,f=G(t,d.onValueNodeChange);return Ie(()=>{u(m)},[u,m]),r.createElement(U.span,P({},s,{ref:f,style:{pointerEvents:"none"}}),Lr(d.value)?r.createElement(r.Fragment,null,l):c)}),ys=r.forwardRef((e,t)=>{const{__scopeSelect:n,children:o,...a}=e;return r.createElement(U.span,P({"aria-hidden":!0},a,{ref:t}),o||"")}),Cs=e=>r.createElement(Bt,P({asChild:!0},e)),Se="SelectContent",ws=r.forwardRef((e,t)=>{const n=ve(Se,e.__scopeSelect),[o,a]=r.useState();if(Ie(()=>{a(new DocumentFragment)},[]),!n.open){const c=o;return c?Qe.createPortal(r.createElement(Mr,{scope:e.__scopeSelect},r.createElement(st.Slot,{scope:e.__scopeSelect},r.createElement("div",null,e.children))),c):null}return r.createElement(Ss,P({},e,{ref:t}))}),le=10,[Mr,lt]=_e(Se),Ss=r.forwardRef((e,t)=>{const{__scopeSelect:n,position:o="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:c,onPointerDownOutside:l,side:s,sideOffset:d,align:u,alignOffset:m,arrowPadding:f,collisionBoundary:b,collisionPadding:$,sticky:h,hideWhenDetached:i,avoidCollisions:v,...p}=e,g=ve(Se,n),[y,C]=r.useState(null),[w,N]=r.useState(null),O=G(t,_=>C(_)),[D,L]=r.useState(null),[ce,q]=r.useState(null),K=qt(n),[Z,Q]=r.useState(!1),W=r.useRef(!1);r.useEffect(()=>{if(y)return nt(y)},[y]),Ut();const Y=r.useCallback(_=>{const[M,...X]=K().map(A=>A.ref.current),[F]=X.slice(-1),I=document.activeElement;for(const A of _)if(A===I||(A==null||A.scrollIntoView({block:"nearest"}),A===M&&w&&(w.scrollTop=0),A===F&&w&&(w.scrollTop=w.scrollHeight),A==null||A.focus(),document.activeElement!==I))return},[K,w]),J=r.useCallback(()=>Y([D,y]),[Y,D,y]);r.useEffect(()=>{Z&&J()},[Z,J]);const{onOpenChange:se,triggerPointerDownPosRef:x}=g;r.useEffect(()=>{if(y){let _={x:0,y:0};const M=F=>{var I,A,te,ne;_={x:Math.abs(Math.round(F.pageX)-((I=(A=x.current)===null||A===void 0?void 0:A.x)!==null&&I!==void 0?I:0)),y:Math.abs(Math.round(F.pageY)-((te=(ne=x.current)===null||ne===void 0?void 0:ne.y)!==null&&te!==void 0?te:0))}},X=F=>{_.x<=10&&_.y<=10?F.preventDefault():y.contains(F.target)||se(!1),document.removeEventListener("pointermove",M),x.current=null};return x.current!==null&&(document.addEventListener("pointermove",M),document.addEventListener("pointerup",X,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",M),document.removeEventListener("pointerup",X,{capture:!0})}}},[y,se,x]),r.useEffect(()=>{const _=()=>se(!1);return window.addEventListener("blur",_),window.addEventListener("resize",_),()=>{window.removeEventListener("blur",_),window.removeEventListener("resize",_)}},[se]);const[R,T]=Vr(_=>{const M=K().filter(I=>!I.disabled),X=M.find(I=>I.ref.current===document.activeElement),F=Br(M,_,X);F&&setTimeout(()=>F.ref.current.focus())}),S=r.useCallback((_,M,X)=>{const F=!W.current&&!X;(g.value!==void 0&&g.value===M||F)&&(L(_),F&&(W.current=!0))},[g.value]),k=r.useCallback(()=>y==null?void 0:y.focus(),[y]),V=r.useCallback((_,M,X)=>{const F=!W.current&&!X;(g.value!==void 0&&g.value===M||F)&&q(_)},[g.value]),re=o==="popper"?Cn:Ps,de=re===Cn?{side:s,sideOffset:d,align:u,alignOffset:m,arrowPadding:f,collisionBoundary:b,collisionPadding:$,sticky:h,hideWhenDetached:i,avoidCollisions:v}:{};return r.createElement(Mr,{scope:n,content:y,viewport:w,onViewportChange:N,itemRefCallback:S,selectedItem:D,onItemLeave:k,itemTextRefCallback:V,focusSelectedItem:J,selectedItemText:ce,position:o,isPositioned:Z,searchRef:R},r.createElement(Gt,{as:De,allowPinchZoom:!0},r.createElement(Wt,{asChild:!0,trapped:g.open,onMountAutoFocus:_=>{_.preventDefault()},onUnmountAutoFocus:j(a,_=>{var M;(M=g.trigger)===null||M===void 0||M.focus({preventScroll:!0}),_.preventDefault()})},r.createElement(Vt,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:c,onPointerDownOutside:l,onFocusOutside:_=>_.preventDefault(),onDismiss:()=>g.onOpenChange(!1)},r.createElement(re,P({role:"listbox",id:g.contentId,"data-state":g.open?"open":"closed",dir:g.dir,onContextMenu:_=>_.preventDefault()},p,de,{onPlaced:()=>Q(!0),ref:O,style:{display:"flex",flexDirection:"column",outline:"none",...p.style},onKeyDown:j(p.onKeyDown,_=>{const M=_.ctrlKey||_.altKey||_.metaKey;if(_.key==="Tab"&&_.preventDefault(),!M&&_.key.length===1&&T(_.key),["ArrowUp","ArrowDown","Home","End"].includes(_.key)){let F=K().filter(I=>!I.disabled).map(I=>I.ref.current);if(["ArrowUp","End"].includes(_.key)&&(F=F.slice().reverse()),["ArrowUp","ArrowDown"].includes(_.key)){const I=_.target,A=F.indexOf(I);F=F.slice(A+1)}setTimeout(()=>Y(F)),_.preventDefault()}})}))))))}),Ps=r.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:o,...a}=e,c=ve(Se,n),l=lt(Se,n),[s,d]=r.useState(null),[u,m]=r.useState(null),f=G(t,O=>m(O)),b=qt(n),$=r.useRef(!1),h=r.useRef(!0),{viewport:i,selectedItem:v,selectedItemText:p,focusSelectedItem:g}=l,y=r.useCallback(()=>{if(c.trigger&&c.valueNode&&s&&u&&i&&v&&p){const O=c.trigger.getBoundingClientRect(),D=u.getBoundingClientRect(),L=c.valueNode.getBoundingClientRect(),ce=p.getBoundingClientRect();if(c.dir!=="rtl"){const I=ce.left-D.left,A=L.left-I,te=O.left-A,ne=O.width+te,it=Math.max(ne,D.width),ut=window.innerWidth-le,dt=yn(A,[le,ut-it]);s.style.minWidth=ne+"px",s.style.left=dt+"px"}else{const I=D.right-ce.right,A=window.innerWidth-L.right-I,te=window.innerWidth-O.right-A,ne=O.width+te,it=Math.max(ne,D.width),ut=window.innerWidth-le,dt=yn(A,[le,ut-it]);s.style.minWidth=ne+"px",s.style.right=dt+"px"}const q=b(),K=window.innerHeight-le*2,Z=i.scrollHeight,Q=window.getComputedStyle(u),W=parseInt(Q.borderTopWidth,10),Y=parseInt(Q.paddingTop,10),J=parseInt(Q.borderBottomWidth,10),se=parseInt(Q.paddingBottom,10),x=W+Y+Z+se+J,R=Math.min(v.offsetHeight*5,x),T=window.getComputedStyle(i),S=parseInt(T.paddingTop,10),k=parseInt(T.paddingBottom,10),V=O.top+O.height/2-le,re=K-V,de=v.offsetHeight/2,_=v.offsetTop+de,M=W+Y+_,X=x-M;if(M<=V){const I=v===q[q.length-1].ref.current;s.style.bottom="0px";const A=u.clientHeight-i.offsetTop-i.offsetHeight,te=Math.max(re,de+(I?k:0)+A+J),ne=M+te;s.style.height=ne+"px"}else{const I=v===q[0].ref.current;s.style.top="0px";const te=Math.max(V,W+i.offsetTop+(I?S:0)+de)+X;s.style.height=te+"px",i.scrollTop=M-V+i.offsetTop}s.style.margin=`${le}px 0`,s.style.minHeight=R+"px",s.style.maxHeight=K+"px",o==null||o(),requestAnimationFrame(()=>$.current=!0)}},[b,c.trigger,c.valueNode,s,u,i,v,p,c.dir,o]);Ie(()=>y(),[y]);const[C,w]=r.useState();Ie(()=>{u&&w(window.getComputedStyle(u).zIndex)},[u]);const N=r.useCallback(O=>{O&&h.current===!0&&(y(),g==null||g(),h.current=!1)},[y,g]);return r.createElement(Rs,{scope:n,contentWrapper:s,shouldExpandOnScrollRef:$,onScrollButtonChange:N},r.createElement("div",{ref:d,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:C}},r.createElement(U.div,P({},a,{ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}}))))}),Cn=r.forwardRef((e,t)=>{const{__scopeSelect:n,align:o="start",collisionPadding:a=le,...c}=e,l=Zt(n);return r.createElement(Pn,P({},l,c,{ref:t,align:o,collisionPadding:a,style:{boxSizing:"border-box",...c.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}}))}),[Rs,_s]=_e(Se,{}),wn="SelectViewport",Ns=r.forwardRef((e,t)=>{const{__scopeSelect:n,...o}=e,a=lt(wn,n),c=_s(wn,n),l=G(t,a.onViewportChange),s=r.useRef(0);return r.createElement(r.Fragment,null,r.createElement("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"}}),r.createElement(st.Slot,{scope:n},r.createElement(U.div,P({"data-radix-select-viewport":"",role:"presentation"},o,{ref:l,style:{position:"relative",flex:1,overflow:"auto",...o.style},onScroll:j(o.onScroll,d=>{const u=d.currentTarget,{contentWrapper:m,shouldExpandOnScrollRef:f}=c;if(f!=null&&f.current&&m){const b=Math.abs(s.current-u.scrollTop);if(b>0){const $=window.innerHeight-le*2,h=parseFloat(m.style.minHeight),i=parseFloat(m.style.height),v=Math.max(h,i);if(v<$){const p=v+b,g=Math.min($,p),y=p-g;m.style.height=g+"px",m.style.bottom==="0px"&&(u.scrollTop=y>0?y:0,m.style.justifyContent="flex-end")}}}s.current=u.scrollTop})}))))}),Os="SelectGroup",[Ts,Ds]=_e(Os),Is=r.forwardRef((e,t)=>{const{__scopeSelect:n,...o}=e,a=et();return r.createElement(Ts,{scope:n,id:a},r.createElement(U.div,P({role:"group","aria-labelledby":a},o,{ref:t})))}),As="SelectLabel",ks=r.forwardRef((e,t)=>{const{__scopeSelect:n,...o}=e,a=Ds(As,n);return r.createElement(U.div,P({id:a.id},o,{ref:t}))}),jt="SelectItem",[Ms,Fr]=_e(jt),Fs=r.forwardRef((e,t)=>{const{__scopeSelect:n,value:o,disabled:a=!1,textValue:c,...l}=e,s=ve(jt,n),d=lt(jt,n),u=s.value===o,[m,f]=r.useState(c??""),[b,$]=r.useState(!1),h=G(t,p=>{var g;return(g=d.itemRefCallback)===null||g===void 0?void 0:g.call(d,p,o,a)}),i=et(),v=()=>{a||(s.onValueChange(o),s.onOpenChange(!1))};if(o==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return r.createElement(Ms,{scope:n,value:o,disabled:a,textId:i,isSelected:u,onItemTextChange:r.useCallback(p=>{f(g=>{var y;return g||((y=p==null?void 0:p.textContent)!==null&&y!==void 0?y:"").trim()})},[])},r.createElement(st.ItemSlot,{scope:n,value:o,disabled:a,textValue:m},r.createElement(U.div,P({role:"option","aria-labelledby":i,"data-highlighted":b?"":void 0,"aria-selected":u&&b,"data-state":u?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1},l,{ref:h,onFocus:j(l.onFocus,()=>$(!0)),onBlur:j(l.onBlur,()=>$(!1)),onPointerUp:j(l.onPointerUp,v),onPointerMove:j(l.onPointerMove,p=>{if(a){var g;(g=d.onItemLeave)===null||g===void 0||g.call(d)}else p.currentTarget.focus({preventScroll:!0})}),onPointerLeave:j(l.onPointerLeave,p=>{if(p.currentTarget===document.activeElement){var g;(g=d.onItemLeave)===null||g===void 0||g.call(d)}}),onKeyDown:j(l.onKeyDown,p=>{var g;((g=d.searchRef)===null||g===void 0?void 0:g.current)!==""&&p.key===" "||(fs.includes(p.key)&&v(),p.key===" "&&p.preventDefault())})}))))}),Xe="SelectItemText",Ls=r.forwardRef((e,t)=>{const{__scopeSelect:n,className:o,style:a,...c}=e,l=ve(Xe,n),s=lt(Xe,n),d=Fr(Xe,n),u=hs(Xe,n),[m,f]=r.useState(null),b=G(t,p=>f(p),d.onItemTextChange,p=>{var g;return(g=s.itemTextRefCallback)===null||g===void 0?void 0:g.call(s,p,d.value,d.disabled)}),$=m==null?void 0:m.textContent,h=r.useMemo(()=>r.createElement("option",{key:d.value,value:d.value,disabled:d.disabled},$),[d.disabled,d.value,$]),{onNativeOptionAdd:i,onNativeOptionRemove:v}=u;return Ie(()=>(i(h),()=>v(h)),[i,v,h]),r.createElement(r.Fragment,null,r.createElement(U.span,P({id:d.textId},c,{ref:b})),d.isSelected&&l.valueNode&&!l.valueNodeHasChildren?Qe.createPortal(c.children,l.valueNode):null)}),js="SelectItemIndicator",Vs=r.forwardRef((e,t)=>{const{__scopeSelect:n,...o}=e;return Fr(js,n).isSelected?r.createElement(U.span,P({"aria-hidden":!0},o,{ref:t})):null}),Bs=r.forwardRef((e,t)=>{const{__scopeSelect:n,...o}=e;return r.createElement(U.div,P({"aria-hidden":!0},o,{ref:t}))});function Lr(e){return e===""||e===void 0}const jr=r.forwardRef((e,t)=>{const{value:n,...o}=e,a=r.useRef(null),c=G(t,a),l=us(n);return r.useEffect(()=>{const s=a.current,d=window.HTMLSelectElement.prototype,m=Object.getOwnPropertyDescriptor(d,"value").set;if(l!==n&&m){const f=new Event("change",{bubbles:!0});m.call(s,n),s.dispatchEvent(f)}},[l,n]),r.createElement(to,{asChild:!0},r.createElement("select",P({},o,{ref:c,defaultValue:n})))});jr.displayName="BubbleSelect";function Vr(e){const t=Rt(e),n=r.useRef(""),o=r.useRef(0),a=r.useCallback(l=>{const s=n.current+l;t(s),function d(u){n.current=u,window.clearTimeout(o.current),u!==""&&(o.current=window.setTimeout(()=>d(""),1e3))}(s)},[t]),c=r.useCallback(()=>{n.current="",window.clearTimeout(o.current)},[]);return r.useEffect(()=>()=>window.clearTimeout(o.current),[]),[n,a,c]}function Br(e,t,n){const a=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,c=n?e.indexOf(n):-1;let l=Ws(e,Math.max(c,0));a.length===1&&(l=l.filter(u=>u!==n));const d=l.find(u=>u.textValue.toLowerCase().startsWith(a.toLowerCase()));return d!==n?d:void 0}function Ws(e,t){return e.map((n,o)=>e[(t+o)%e.length])}const Us=gs,Wr=bs,Ks=xs,Hs=ys,Gs=Cs,Ur=ws,zs=Ns,Ys=Is,Kr=ks,Hr=Fs,Xs=Ls,qs=Vs,Gr=Bs,Zs=Us,Qs=Ys,Js=Ks,zr=r.forwardRef(({className:e,children:t,...n},o)=>E.jsxs(Wr,{ref:o,className:B("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...n,children:[t,E.jsx(Hs,{asChild:!0,children:E.jsx(Tn,{className:"h-4 w-4 opacity-50"})})]}));zr.displayName=Wr.displayName;const Yr=r.forwardRef(({className:e,children:t,position:n="popper",...o},a)=>E.jsx(Gs,{children:E.jsx(Ur,{ref:a,className:B("relative z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...o,children:E.jsx(zs,{className:B("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t})})}));Yr.displayName=Ur.displayName;const el=r.forwardRef(({className:e,...t},n)=>E.jsx(Kr,{ref:n,className:B("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));el.displayName=Kr.displayName;const Xr=r.forwardRef(({className:e,children:t,...n},o)=>E.jsxs(Hr,{ref:o,className:B("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[E.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:E.jsx(qs,{children:E.jsx(On,{className:"h-4 w-4"})})}),E.jsx(Xs,{children:t})]}));Xr.displayName=Hr.displayName;const tl=r.forwardRef(({className:e,...t},n)=>E.jsx(Gr,{ref:n,className:B("-mx-1 my-1 h-px bg-muted",e),...t}));tl.displayName=Gr.displayName;function nl({value:e,onChange:t}){return E.jsxs(Zs,{value:e||"",onValueChange:t,required:!1,children:[E.jsx(zr,{className:"w-[180px]",children:E.jsx(Js,{placeholder:"Order by"})}),E.jsx(Yr,{children:E.jsx(Qs,{children:[ee.title,ee.start_date,ee.end_date,ee.episodes,ee.score,ee.scored_by,ee.rank,ee.popularity,ee.members,ee.favorites].map(n=>E.jsx(Xr,{value:n,children:n},n))})})]})}function ul(){var f,b,$;let[e,t]=no();const{page:n,genre:o,orderBy:a,orderDirection:c}=r.useMemo(()=>({page:Number(e.get("page"))||1,genre:Number(e.get("genre"))||"",orderBy:e.get("order_by")||ee.popularity,orderDirection:e.get("order_direction")||ye.asc}),[e]),l=Nn({queryKey:["/animes",n,a,c,o],queryFn:()=>lo({genres:String(o)||void 0,type:kr.Tv,status:Ar.airing,limit:24,order_by:a,sort:c,page:n})}),s=h=>{t(i=>(h?i.set("page",String(h)):i.delete("page"),i))},d=h=>{t(i=>(h?i.set("order_by",String(h)):i.delete("order_by"),i))},u=()=>{t(h=>{const v=h.get("order_direction")===ye.asc?ye.desc:ye.asc;return h.set("order_direction",v),h})},m=h=>{t(i=>(h?i.set("genre",String(h)):i.delete("genre"),i.set("page","1"),i))};return E.jsxs("div",{className:"flex w-full max-w-5xl grow flex-col gap-2 py-10",children:[E.jsxs("div",{className:"flex flex-row items-center gap-2",children:[E.jsx(cs,{value:o,onChange:m}),E.jsx("div",{className:"grow"}),E.jsx(nl,{value:a,onChange:d}),E.jsx(qe,{onClick:u,size:"sm",variant:"outline",className:"h-10 w-10",children:E.jsx("div",{className:"transition-transform",style:{transform:`rotate(${c===ye.asc?0:180}deg)`},children:E.jsx(Tn,{})})})]}),l.error?E.jsx("div",{className:"flex grow items-center justify-center",children:E.jsxs(oo,{variant:"destructive",children:[E.jsx(ao,{className:"h-4 w-4"}),E.jsx(co,{children:"Error"}),E.jsx(so,{children:l.error instanceof Error?l.error.message:"Something went wrong!"})]})}):l.isLoading?E.jsxs("div",{className:"flex flex-col gap-2",children:[E.jsx("div",{className:"grid grid-cols-[repeat(auto-fill,_minmax(170px,_1fr))] gap-14 py-14",children:Array.from({length:24}).map((h,i)=>E.jsx(Qt,{loading:!0},i))}),E.jsx(Lt,{page:1,totalPages:5})]}):E.jsxs("div",{className:"flex flex-col gap-2",children:[E.jsx("div",{className:"grid grid-cols-[repeat(auto-fill,_minmax(170px,_1fr))] gap-14 py-14",children:(b=(f=l.data)==null?void 0:f.data)==null?void 0:b.map(h=>E.jsx(Qt,{anime:h},h.mal_id))}),E.jsx(Lt,{page:n,totalPages:($=l.data)==null?void 0:$.pagination.last_visible_page,onChange:s})]})]})}export{ul as default};
